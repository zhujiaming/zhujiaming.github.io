<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>jiaming</title>
  
  <subtitle>è¿™é‡Œä»€ä¹ˆéƒ½æ²¡æœ‰...</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://zhujm.top/"/>
  <updated>2019-08-15T12:39:41.102Z</updated>
  <id>http://zhujm.top/</id>
  
  <author>
    <name>jiaming.zhu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://zhujm.top/2019/08/15/201908152000/"/>
    <id>http://zhujm.top/2019/08/15/201908152000/</id>
    <published>2019-08-15T11:59:51.160Z</published>
    <updated>2019-08-15T12:39:41.102Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨"><a href="#æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨" class="headerlink" title="æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨"></a>æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨</h2><h4 id="å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨-ç«‹å³ä¸‹è½½ğŸ‘‡"><a href="#å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨-ç«‹å³ä¸‹è½½ğŸ‘‡" class="headerlink" title="å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨ ç«‹å³ä¸‹è½½ğŸ‘‡"></a>å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨ <a href="https://www.pgyer.com/wgyt" target="_blank" rel="noopener">ç«‹å³ä¸‹è½½ğŸ‘‡</a></h4> <a id="more"></a><p><img src="https://upload-images.jianshu.io/upload_images/1948083-854a4e3e490439a5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/480" alt="xiaohao" title="xiaohao"></p><p>ä¸€æ¬¾æ”¶é›†å±•ç¤ºäº’è”ç½‘å…±äº«çŸ­ä¿¡çš„åº”ç”¨ï¼Œæ”¶çº³çš„æ‰‹æœºå·å¤šè¾¾ä¸Šç™¾ä¸ªï¼Œå¹¶ä¸”ä¸å®šæœŸæ›´æ–°å¢åŠ æ–°çš„å¹³å°æ‰‹æœºå·ã€‚</p><blockquote><p>åœ¨æ—¥å¸¸æµ‹è¯•å·¥ä½œä¸­ï¼Œéœ€è¦å¤§é‡çš„æµ‹è¯•è´¦å·ï¼Œè€Œäº’è”ç½‘ä¸Šæœ‰æ­¤ç±»çš„å…±äº«æ‰‹æœºå·æä¾›å…¬å¼€çš„çŸ­ä¿¡å…±äº«ï¼Œè¿™æ ·å°±èƒ½æ»¡è¶³å¤§é‡æµ‹è¯•å·çš„éœ€æ±‚ï¼Œä½†ç›®å‰æ­¤ç±»ç½‘ç«™æ¯”è¾ƒåˆ†æ•£ã€‚</p></blockquote><blockquote><p>å› æ­¤å¼€å‘äº†è¯¥appç”¨äºæ”¶é›†æ•´åˆäº’è”ç½‘æ­¤ç±»å¹³å°ï¼Œå¹¶ç»Ÿä¸€åœ¨è¯¥appä¸Šå±•ç¤ºï¼Œåº”ç”¨æ¶æ„ä¸Šæ”¯æŒæ‹“å±•æ›´å¤šçš„å¹³å°ï¼Œæœªæ¥å°†æ”¯æŒæ›´å¤šçš„çŸ­ä¿¡æˆ–æ‰‹æœºå·æ“ä½œã€‚</p></blockquote><h4 id="æ³¼å†·æ°´"><a href="#æ³¼å†·æ°´" class="headerlink" title="æ³¼å†·æ°´"></a>æ³¼å†·æ°´</h4><p>1.0ç‰ˆæœ¬ç”±äºè®¾è®¡ç®€é™‹åŠŸèƒ½æ¯”è¾ƒå•ä¸€ï¼Œä¸Šçº¿åº”ç”¨å•†åº—è¢«æ‹’äº†ã€‚ï¼ˆç¡®å®å¾ˆç®€é™‹å•ä¸€ï¼ŒğŸ˜„ï¼Œæ‰€ä»¥ç›®å‰å®šä½å­¦ä¹ äº¤æµï¼‰</p><p>ä¸è¿‡è¿™æ˜¯ä¸ªäººå¼€å‘çš„ç¬¬ä¸€æ¬¾é¥±å«æ¿€æƒ…ä¸å¸Œæœ›çš„åº”ç”¨ï¼Œä¹Ÿç®—æ˜¯ä¸å¿˜åˆå¿ƒå§ï¼Œä»æœ‰æƒ³æ³•åˆ°å‡ºæˆå“ç»å†äº†å››äº”ä¸ªæœˆæ€»ç®—æŒ¤å‡ºæ¥äº†ï¼Œå‡º1.0ç‰ˆæœ¬äº†ã€‚</p><p>æœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä¸‹è½½ä½“éªŒä¸‹ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®ç”¨å“¦ï¼Œä¹Ÿæ¬¢è¿ä¸€èµ·å­¦ä¹ äº¤æµææ„è§ï¼Œæ›´æ¬¢è¿æœ‰æƒ³æ³•å°ä¼™ä¼´ä¸€èµ·åˆä½œå¼€å‘ğŸ˜ã€‚</p><h4 id="ä¸‹é¢æ—¶é—´"><a href="#ä¸‹é¢æ—¶é—´" class="headerlink" title="ä¸‹é¢æ—¶é—´"></a>ä¸‹é¢æ—¶é—´</h4><p>ç®€å•æ¬£èµä¸‹ç”±å¼€å‘è€…è®¾è®¡çš„ä¸‘é™‹çš„ç•Œé¢å§</p><p><img src="https://upload-images.jianshu.io/upload_images/1948083-f1dbbec9f963c166.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/700" alt="ui"></p><p>æ¬¢è¿è§‚èµï¼Œè°¢è°¢ï¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨&quot;&gt;&lt;a href=&quot;#æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨&quot; class=&quot;headerlink&quot; title=&quot;æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨&quot;&gt;&lt;/a&gt;æ¬¢è¿ä¸‹è½½ã€Œå°å·ã€åº”ç”¨&lt;/h2&gt;&lt;h4 id=&quot;å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨-ç«‹å³ä¸‹è½½ğŸ‘‡&quot;&gt;&lt;a href=&quot;#å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨-ç«‹å³ä¸‹è½½ğŸ‘‡&quot; class=&quot;headerlink&quot; title=&quot;å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨ ç«‹å³ä¸‹è½½ğŸ‘‡&quot;&gt;&lt;/a&gt;å°å·æ˜¯ä¸€æ¬¾äº’è”ç½‘å…±äº«çŸ­ä¿¡æŸ¥çœ‹ç¥å™¨ &lt;a href=&quot;https://www.pgyer.com/wgyt&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ç«‹å³ä¸‹è½½ğŸ‘‡&lt;/a&gt;&lt;/h4&gt;
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>å…³äºReact-Nativeä¸­çš„StaticRendererç»„ä»¶</title>
    <link href="http://zhujm.top/2019/08/15/201908151313/"/>
    <id>http://zhujm.top/2019/08/15/201908151313/</id>
    <published>2019-08-15T05:13:58.000Z</published>
    <updated>2019-08-15T05:49:34.441Z</updated>
    
    <content type="html"><![CDATA[<p>ReactNativeä¸­å†…ç½®äº†StaticRenderç»„ä»¶ï¼Œä¸»è¦ç”¨åœ¨äº†listviewä¸viewpagerç­‰ç»„ä»¶çš„itemä¸­ï¼Œå¯¹å¤ç”¨æ€§åŠæ€§èƒ½æœ‰ä¸€å®šçš„æå‡ã€‚</p><blockquote><p>../app/node_modules/react-native/Libraries/Components/StaticRenderer.js</p></blockquote><a id="more"></a><p>æºç å¦‚ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> React = <span class="built_in">require</span>(<span class="string">'React'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> PropTypes = <span class="built_in">require</span>(<span class="string">'prop-types'</span>);</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StaticRenderer</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    shouldUpdate: boolean,</span><br><span class="line">    render: <span class="built_in">Function</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> propTypes = &#123;</span><br><span class="line">    shouldUpdate: PropTypes.bool.isRequired,</span><br><span class="line">    render: PropTypes.func.isRequired,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  shouldComponentUpdate(nextProps: &#123; <span class="attr">shouldUpdate</span>: boolean &#125;): boolean &#123;</span><br><span class="line">    <span class="keyword">return</span> nextProps.shouldUpdate;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render(): React.Element&lt;any&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.props.render();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = StaticRenderer;</span><br></pre></td></tr></table></figure><p>å¾ˆç®€çŸ­çš„æºç ã€‚<br>StaticRendereræ¸²æŸ“æ•ˆæœå®Œå…¨ç”±propsçš„renderå‡½æ•°æ¥å†³å®šï¼Œå¹¶ä¸”æ ¹æ®shouldComponentUpdateå›è°ƒå‡½æ•°çš„è¿”å›å€¼ä¹Ÿå°±æ˜¯props.shouldUpdateï¼Œæ¥å†³å®šäº†æ˜¯å¦ä¼šre-renderåŒ…è£¹çš„ç»„ä»¶ï¼Œå¦‚æœå°†shouldUpdateè®¾ç½®ä¸ºfalseï¼Œåˆ™å°±ä¸èƒ½é€šè¿‡çˆ¶ç»„ä»¶æ”¹å˜å­ç»„ä»¶çš„propsè§¦å‘å­ç»„ä»¶re-renderäº†ï¼Œç»„ä»¶çš„é¡µé¢çŠ¶æ€å®Œå…¨ç”±åˆå§‹çš„propsæ¥å†³å®šï¼Œå½¢æˆä¸€ç§é™æ€é¡µé¢ã€‚</p><p>æ‰€ä»¥åœ¨ListViewä¸­æˆ‘ä»¬çš„æ‰€æœ‰itemçš„Componentçš„éƒ½æ˜¯propsæ‰€å†³å®šçš„ä¸€æ¬¡æ€§çš„ç»“æœï¼Œä¸èƒ½è¿›è¡Œre-renderã€‚å¦‚æœè¦è¿›è¡Œre-renderï¼Œå°±åªæœ‰æ”¹å˜dataSourceè§¦å‘ListViewç»„ä»¶re-renderã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ReactNativeä¸­å†…ç½®äº†StaticRenderç»„ä»¶ï¼Œä¸»è¦ç”¨åœ¨äº†listviewä¸viewpagerç­‰ç»„ä»¶çš„itemä¸­ï¼Œå¯¹å¤ç”¨æ€§åŠæ€§èƒ½æœ‰ä¸€å®šçš„æå‡ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;../app/node_modules/react-native/Libraries/Components/StaticRenderer.js&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://zhujm.top/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="ReactNative" scheme="http://zhujm.top/tags/ReactNative/"/>
    
      <category term="æ€§èƒ½ä¼˜åŒ–" scheme="http://zhujm.top/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>æ¢ç©¶WebView getContentHeightçš„å†…éƒ¨å®ç°çœ‹çœ‹æ˜¯å¦éœ€è¦è¿›è¡Œé¢å¤–è®¡ç®—</title>
    <link href="http://zhujm.top/2019/08/15/201908150947/"/>
    <id>http://zhujm.top/2019/08/15/201908150947/</id>
    <published>2019-08-15T01:40:51.179Z</published>
    <updated>2019-08-15T05:49:14.288Z</updated>
    
    <content type="html"><![CDATA[<p>å…ˆä»WebViewå…¥æ‰‹</p><h6 id="WebView-java"><a href="#WebView-java" class="headerlink" title="WebView.java"></a>WebView.java</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Gets the height of the HTML content.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> the height of the HTML content</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ViewDebug</span>.ExportedProperty(category = <span class="string">"webview"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getContentHeight</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    checkThread();</span><br><span class="line">    <span class="keyword">return</span> mProvider.getContentHeight();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>å†æ‰¾mProviderçš„å®ç°</p><h6 id="WebView-java-1"><a href="#WebView-java-1" class="headerlink" title="WebView.java"></a>WebView.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">private void ensureProviderCreated() &#123;</span><br><span class="line">    checkThread();</span><br><span class="line">    if (mProvider == null) &#123;</span><br><span class="line">        // As this can get called during the base class constructor chain, pass the minimum</span><br><span class="line">        // number of dependencies here; the rest are deferred to init().</span><br><span class="line">        mProvider = getFactory().createWebView(this, new PrivateAccess());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>getFactory()æ˜¯å…³é”®</p><h6 id="WebView-java-2"><a href="#WebView-java-2" class="headerlink" title="WebView.java"></a>WebView.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">private static WebViewFactoryProvider getFactory() &#123;</span><br><span class="line">    return WebViewFactory.getProvider();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹WebViewFactory.getProvider(),ç›´æ¥çœ‹return</p><h6 id="WebViewFactory-java"><a href="#WebViewFactory-java" class="headerlink" title="WebViewFactory.java"></a>WebViewFactory.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">static WebViewFactoryProvider getProvider() &#123;</span><br><span class="line">    //...</span><br><span class="line">    if (sProviderInstance != null) return sProviderInstance;</span><br><span class="line">    //...</span><br><span class="line">    </span><br><span class="line">    try &#123;</span><br><span class="line">        Class&lt;WebViewFactoryProvider&gt; providerClass = getProviderClass();</span><br><span class="line">        Method staticFactory = null;</span><br><span class="line">        try &#123;</span><br><span class="line">            staticFactory = providerClass.getMethod(</span><br><span class="line">                        CHROMIUM_WEBVIEW_FACTORY_METHOD, WebViewDelegate.class);</span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">               if (DEBUG) &#123;</span><br><span class="line">                Log.w(LOGTAG, &quot;error instantiating provider with static factory method&quot;, e);</span><br><span class="line">            &#125;</span><br><span class="line">       &#125;</span><br><span class="line">    </span><br><span class="line">    //...</span><br><span class="line">     try &#123;</span><br><span class="line">        sProviderInstance = (WebViewFactoryProvider)</span><br><span class="line">                            staticFactory.invoke(null, new WebViewDelegate());</span><br><span class="line">        if (DEBUG) Log.v(LOGTAG, &quot;Loaded provider: &quot; + sProviderInstance);</span><br><span class="line">        return sProviderInstance;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">    </span><br><span class="line">    //...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨åˆ°äº†åå°„ï¼Œå…³é”®çš„getProviderClass()ï¼Œä¹Ÿæ˜¯ç›´æ¥çœ‹return</p><h6 id="WebViewFactory-java-1"><a href="#WebViewFactory-java-1" class="headerlink" title="WebViewFactory.java"></a>WebViewFactory.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">private static Class&lt;WebViewFactoryProvider&gt; getProviderClass() &#123;</span><br><span class="line">        //...</span><br><span class="line">    try &#123;</span><br><span class="line">                return getWebViewProviderClass(clazzLoader);</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    Trace.traceEnd(Trace.TRACE_TAG_WEBVIEW);</span><br><span class="line">                &#125;</span><br><span class="line">        //...</span><br><span class="line">                </span><br><span class="line">     try &#123;</span><br><span class="line">                return (Class&lt;WebViewFactoryProvider&gt;) Class.forName(NULL_WEBVIEW_FACTORY);</span><br><span class="line">            &#125; catch (ClassNotFoundException e2) &#123;</span><br><span class="line">                // Ignore.</span><br><span class="line">            &#125;</span><br><span class="line">       //...</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªreturnå¯ä»¥ä¸ç”¨å…³å¿ƒï¼Œå› ä¸ºæœ‰null,å…³æ³¨ç¬¬ä¸€ä¸ªreturn</p><h6 id="WebViewFactory-java-2"><a href="#WebViewFactory-java-2" class="headerlink" title="WebViewFactory.java"></a>WebViewFactory.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * @hide</span><br><span class="line"> */</span><br><span class="line">public static Class&lt;WebViewFactoryProvider&gt; getWebViewProviderClass(ClassLoader clazzLoader)</span><br><span class="line">        throws ClassNotFoundException &#123;</span><br><span class="line">    return (Class&lt;WebViewFactoryProvider&gt;) Class.forName(CHROMIUM_WEBVIEW_FACTORY,</span><br><span class="line">            true, clazzLoader);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>éšè—æ–¹æ³•ï¼Œçœ‹çœ‹CHROMIUM_WEBVIEW_FACTORYæ˜¯ä»€ä¹ˆä¸œä¸œ</p><h6 id="WebViewFactory-java-3"><a href="#WebViewFactory-java-3" class="headerlink" title="WebViewFactory.java"></a>WebViewFactory.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/** @hide */</span><br><span class="line">private static final String CHROMIUM_WEBVIEW_FACTORY =</span><br><span class="line">        &quot;com.android.webview.chromium.WebViewChromiumFactoryProviderForO&quot;;</span><br></pre></td></tr></table></figure><p>OK,åå°„äº†è¿™ä¸ªç±»ï¼Œå»sdk sourceé‡Œæ‰¾æ‰¾</p><p>â€¦<br>æ‰¾å•Šæ‰¾<br>â€¦<br>å‘ç°åœ¨android-19,android-20,android-22é‡Œæ‰¾åˆ°ï¼Œé«˜ç‰ˆæœ¬çš„éƒ½æ˜¯nullå®ç°</p><p>éšä¾¿æ‰¾ä¸ªandroid-22å§ï¼Œè·¯å¾„å¦‚ä¸‹ï¼š</p><blockquote><p>android-sdk\sources\android-22\com\android\webview\chromium\WebViewChromiumFactoryProvider.java</p></blockquote><p>å›åˆ°ä¸Šé¢<br>getProviderClass()å®Œæ¯•ï¼Œåå°„å‡ºWebViewChromiumFactoryProviderå®ä¾‹ï¼Œå°±å¯ä»¥æ‰§è¡Œå…¶createWebView()æ–¹æ³•äº†</p><h6 id="WebViewChromiumFactoryProvider-java"><a href="#WebViewChromiumFactoryProvider-java" class="headerlink" title="WebViewChromiumFactoryProvider.java"></a>WebViewChromiumFactoryProvider.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">    @Override</span><br><span class="line">public WebViewProvider createWebView(WebView webView, WebView.PrivateAccess privateAccess) &#123;</span><br><span class="line">    WebViewChromium wvc = new WebViewChromium(this, webView, privateAccess);</span><br><span class="line"></span><br><span class="line">    synchronized (mLock) &#123;</span><br><span class="line">        if (mWebViewsToStart != null) &#123;</span><br><span class="line">            mWebViewsToStart.add(new WeakReference&lt;WebViewChromium&gt;(wvc));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return wvc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OK çœŸæ­£çš„å®ç°æ‰¾åˆ°äº†â€”&gt;WebViewChromium.javaï¼Œå¹¶ä¸”åœ¨åŒç›®å½•ä¸‹</p><p>è‡³æ­¤ï¼ŒWebViewçš„å‚€å„¡ WebViewProvider mProviderå·²æ­å¼€çœŸé¢ç›®</p><p>ä¸‹ä¸€æ­¥è‚¯å®šæ˜¯ä¸å¿˜åˆå¿ƒï¼Œçœ‹çœ‹getContentHeight()çš„å®ç°å•¦</p><h6 id="WebViewChromiumFactoryProvider-java-1"><a href="#WebViewChromiumFactoryProvider-java-1" class="headerlink" title="WebViewChromiumFactoryProvider.java"></a>WebViewChromiumFactoryProvider.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public int getContentHeight() &#123;</span><br><span class="line">    if (mAwContents == null) return 0;</span><br><span class="line">    // No checkThread() as it is mostly thread safe (workaround for b/10594869).</span><br><span class="line">    return mAwContents.getContentHeightCss();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆæ˜¯æ¡¥æ¥å…¶ä»–ç±»æ¥å®ç°ï¼ŒAwContents.javaï¼Œåœ¨ org.chromium.android_webview.AwContents;</p><blockquote><p>AwContentsæä¾›çš„ä¸æ˜¯WebViewçš„APIï¼Œæ‰€ä»¥ï¼Œéœ€è¦ä¸€å±‚æ¡¥æ¥éƒ¨åˆ†ï¼Œå°†AwContentsæ¡¥æ¥åˆ°WebViewï¼Œè¿™å°±æ˜¯å›¾ä¸­çš„æ¡¥æ¥æ¨¡å—ï¼Œè¯¥æ¨¡å—ä½äºAndroidæºä»£ç ä¸­çš„frameworks/webview/chromium/java/com/android/webview/chromium/ç›®å½•ä¸‹ï¼ŒWebViewChromiumå’ŒWebViewChromiumFactoryç±»ä½œä¸ºWebViewçš„å…·ä½“å®ç°ï¼Œä¾èµ–äºChromiumé¡¹ç›®çš„AwContentsæ¨¡å—ã€‚</p></blockquote><p>github clone ä¸€ä¸ªChromiumé¡¹ç›®çœ‹çœ‹<br><a href="https://android.googlesource.com/platform/external/chromium_org" target="_blank" rel="noopener">https://android.googlesource.com/platform/external/chromium_org</a></p><p>æ‰¾å•Šæ‰¾<br>åœ¨\chromium_org\android_webview\java\src\org\chromium\android_webviewç›®å½•ä¸‹æ‰¾åˆ°AwContents.java</p><p>ok æŸ¥çœ‹å…¶å†…éƒ¨å®ç°å³å¯</p><h6 id="AwContents-java"><a href="#AwContents-java" class="headerlink" title="AwContents.java"></a>AwContents.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public int getContentHeightCss() &#123;</span><br><span class="line">    return (int) Math.ceil(mContentHeightDip);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥çœ‹å‡ºç›´æ¥è¿”å›æˆå‘˜å˜é‡ï¼Œæœªè¿›è¡Œè®¡ç®—</p><p>é‚£è¿™ä¸ªæˆå‘˜å˜é‡èµ‹å€¼åœ¨å“ª</p><h6 id="AwContents-java-1"><a href="#AwContents-java-1" class="headerlink" title="AwContents.java"></a>AwContents.java</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@CalledByNative</span><br><span class="line">private void updateScrollState(int maxContainerViewScrollOffsetX,</span><br><span class="line">        int maxContainerViewScrollOffsetY, int contentWidthDip, int contentHeightDip,</span><br><span class="line">        float pageScaleFactor, float minPageScaleFactor, float maxPageScaleFactor) &#123;</span><br><span class="line">    mContentWidthDip = contentWidthDip;</span><br><span class="line">    mContentHeightDip = contentHeightDip;</span><br><span class="line">    mScrollOffsetManager.setMaxScrollOffset(maxContainerViewScrollOffsetX,</span><br><span class="line">            maxContainerViewScrollOffsetY);</span><br><span class="line">    setPageScaleFactorAndLimits(pageScaleFactor, minPageScaleFactor, maxPageScaleFactor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨è¿™é‡Œèµ‹å€¼ï¼Œå¯ä»¥æ ¹æ®æ³¨è§£@CalledByNativeçœ‹å‡ºæ˜¯Nativeå±‚ä¸»åŠ¨å›è°ƒå‡ºæ¥è¿›è¡Œè®¾ç½®ã€‚</p><p>ï¼ˆä¹Ÿå¯åœ¨è¯¥å®ç°ä¸­æŸ¥çœ‹å…¶å®ƒwebviewæ“ä½œçš„å®ç°ã€‚ï¼‰</p><p>æ‰€ä»¥å¾—åˆ°äº†æƒ³è¦çš„ç­”æ¡ˆã€‚</p><blockquote><p>å‚è€ƒï¼š<br><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1106/1921.html" target="_blank" rel="noopener">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1106/1921.html</a></p><p><a href="https://android.googlesource.com/platform/external/chromium_org" target="_blank" rel="noopener">https://android.googlesource.com/platform/external/chromium_org</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…ˆä»WebViewå…¥æ‰‹&lt;/p&gt;
&lt;h6 id=&quot;WebView-java&quot;&gt;&lt;a href=&quot;#WebView-java&quot; class=&quot;headerlink&quot; title=&quot;WebView.java&quot;&gt;&lt;/a&gt;WebView.java&lt;/h6&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * Gets the height of the HTML content.&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt; the height of the HTML content&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt; */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ViewDebug&lt;/span&gt;.ExportedProperty(category = &lt;span class=&quot;string&quot;&gt;&quot;webview&quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;getContentHeight&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    checkThread();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; mProvider.getContentHeight();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://zhujm.top/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="WebView" scheme="http://zhujm.top/tags/WebView/"/>
    
      <category term="Android" scheme="http://zhujm.top/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>é£é™©æŠ•èµ„çš„è¿‡ç¨‹â€”â€”ã€Šæµªæ½®ä¹‹å·…ã€‹</title>
    <link href="http://zhujm.top/2018/08/15/201908151343/"/>
    <id>http://zhujm.top/2018/08/15/201908151343/</id>
    <published>2018-08-15T05:43:16.000Z</published>
    <updated>2019-08-15T12:01:04.062Z</updated>
    
    <content type="html"><![CDATA[<p>é£é™©æŠ•èµ„çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªç§‘æŠ€å…¬å¸åˆ›åŠçš„è¿‡ç¨‹ã€‚<a id="more"></a>åœ¨ç¾å›½ï¼Œä¸€ä¸ªæ–°å…´çš„ç§‘æŠ€å…¬å¸ï¼ˆStartupsï¼‰çš„åˆ›ä¸šè¿‡ç¨‹é€šå¸¸æ˜¯è¿™æ ·çš„ï¼šæ¥è‡ªæ€ç§‘å…¬å¸çš„å·¥ç¨‹å¸ˆå±±å§†å’ŒIBMå…¬å¸çš„å·¥ç¨‹å¸ˆå¼ºå°¼å‘æ˜äº†ä¸€ç§æ— çº¿é€šä¿¡çš„æŠ€æœ¯ï¼Œå½“ç„¶è¿™ç§æŠ€æœ¯å’Œä»–ä»¬æ‰€åœ¨å…¬å¸çš„æ ¸å¿ƒä¸šåŠ¡æ— å…³ï¼Œä¸¤äººè§‰å¾—è¿™ç§æŠ€æœ¯å¾ˆæœ‰å•†ä¸šå‰æ™¯ï¼Œä»–ä»¬å°±å†™äº†ä¸ªä¸“åˆ©è‰æ¡ˆï¼ŒåˆèŠ±äº”åƒç¾å…ƒæ‰¾äº†ä¸ªä¸“åˆ©å¾‹å¸ˆï¼Œå‘ç¾å›½ä¸“åˆ©å±€é€’äº¤äº†ä¸“åˆ©ç”³è¯·ï¼ˆå…³é”®ä¹‹ä¸€ï¼ŒçŸ¥è¯†äº§æƒå¾ˆé‡è¦ï¼‰ã€‚ä¸¤ä¸ªäººä¸‹ç­åä»¥åŠå‘¨æœ«çš„æ‰€æœ‰æ—¶é—´å…¨æ³¡åœ¨å±±å§†å®¶çš„è½¦åº“é‡Œç”¨æ¨¡æ‹Ÿè½¯ä»¶ Matlab è¿›è¡Œæ¨¡æ‹Ÿï¼Œè¯æ˜è¿™ç§æŠ€æœ¯å¯ä»¥å°†æ— çº¿é€šä¿¡é€Ÿåº¦æé«˜äº”åå€ï¼ˆå…³é”®ä¹‹äºŒï¼Œæ˜¯å¦æœ‰æ•°é‡çº§çš„æé«˜æ˜¯è¡¡é‡ä¸€é¡¹æ–°æŠ€æœ¯æ˜¯é©å‘½æ€§çš„è¿˜æ˜¯é©æ–°æ€§çš„å…³é”®ã€‚ï¼‰ä¸¤ä¸ªäººæƒ³äº†å¥½å‡ ç§åº”ç”¨ï¼Œæ¯”å¦‚ä»£æ›¿ç°æœ‰çš„è®¡ç®—æœº Wifiï¼Œæˆ–è€…ç”¨åˆ°æ‰‹æœºä¸Šï¼Œäºæ˜¯åœ¨åŸæœ‰çš„ä¸“åˆ©ä¸Šåˆæ·»åŠ äº†ä¸¤ä¸ªè¡¥å……æ€§ä¸“åˆ©ã€‚å¼ºå°¼å’Œå±±å§†äºæ˜¯æ‹¿ç€è‡ªå·±åšçš„ Powerpoint æŠ•å½±èƒ¶ç‰‡ã€å®éªŒç»“æœå’Œä¸“åˆ©ç”³è¯·ææ–™åˆ°å¤„æ‰¾æŠ•èµ„è€…ï¼Œåœ¨ç¢°äº†ä¸ƒå…«æ¬¡å£ä»¥åï¼Œæ‰¾åˆ°äº†å±±å§†åŸæ¥çš„è€æ¿ï¼Œæ€ç§‘æ—©æœŸé›‡å‘˜äºšå¹³ã€‚äºšå¹³ä»æ€ç§‘å‘äº†è´¢åä¸å†å½“æŠ€æœ¯ä¸»ç®¡äº†ï¼Œè‡ªå·±å’Œå‡ ä¸ªå¿—åŒé“åˆçš„æœ‰é’±äººä¸€èµ·åœ¨åšå¤©ä½¿æŠ•èµ„äººã€‚äºšå¹³å’Œä¸ä¸‹ç™¾åæ¥ä¸ªåˆ›ä¸šè€…è°ˆè¿‡æŠ•èµ„ï¼Œå¯¹æ–°æŠ€æœ¯çœ¼å…‰é¢‡ä¸ºæ•é”ï¼Œå‘ç°å±±å§†å’Œå¼ºå°¼çš„æŠ€æœ¯å¾ˆæœ‰ç‹¬åˆ°ä¹‹å¤„ï¼Œä½†æ˜¯å› ä¸ºå±±å§†å’Œå¼ºå°¼è®²ä¸æ¸…æ¥šè¿™ç§æŠ€æœ¯çš„å…·ä½“å•†ä¸šå‰æ™¯åœ¨å“ªé‡Œï¼Œå»ºè®®ä»–ä»¬æ‰¾ä¸€ä¸ªç²¾é€šå•†ä¸šçš„äººåˆ¶å®šä¸€ä¸ªå•†ä¸šè®¡åˆ’ Business Planï¼ˆå…³é”®ä¹‹ä¸‰ï¼Œå•†ä¸šè®¡åˆ’å¾ˆé‡è¦ï¼‰ã€‚å¼ºå°¼æ‰¾åˆ°åšå¸‚åœºå’Œé”€å”®çš„æœ‹å‹è¿ªå…‹ï¼Œå¹¶å‘è¿ªå…‹å¤§è‡´ä»‹ç»äº†è‡ªå·±çš„å‘æ˜ï¼Œå¸Œæœ›è¿ªå…‹åŠ ç›Ÿå…±åŒå¼€å‘å¸‚åœºã€‚è¿ªå…‹è§‰å¾—å’Œè¿™ä¸¤ä¸ªäººè°ˆå¾—æ¥ï¼Œæ„¿æ„å…±åŒåˆ›ä¸šã€‚è¿™æ—¶å‡ºç°äº†ç¬¬ä¸€æ¬¡è‚¡æƒåˆ†é…é—®é¢˜ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‰€æœ‰çš„å·¥ä½œéƒ½æ˜¯å±±å§†å’Œå¼ºå°¼åšçš„ï¼Œä¸¤ä¸ªäººå„å æœªæ¥å…¬å¸çš„ 50% è‚¡æƒå’ŒæŠ•ç¥¨æƒã€‚è¿ªå…‹åŠ ç›Ÿåï¼Œä¸‰ä¸ªäººå•†å®šï¼Œå¦‚æœè¿ªå…‹åˆ¶å®šå‡ºä¸€ä¸ªå•†ä¸šè®¡åˆ’ä¹¦ï¼Œä»–å°†è·å¾— 20% çš„è‚¡æƒï¼Œå±±å§†å’Œå¼ºå°¼å°†å‡æŒåˆ° 40%ã€‚è¿ªå…‹ç»è¿‡è°ƒæŸ¥å‘ç°ï¼Œå±±å§†å’Œå¼ºå°¼çš„å‘æ˜åœ¨é«˜æ¸…æ™°åº¦å®¶åº­å¨±ä¹ä¸­å¿ƒçš„å‰æ™¯ååˆ†å¯è§‚ï¼Œäºæ˜¯åˆ¶å®šäº†å¯è¡Œçš„å•†ä¸šè®¡åˆ’ä¹¦ï¼Œå¹¶å¾—åˆ°äº† 20% çš„è‚¡æƒã€‚ä¸‰ä¸ªäººåˆ°ç›®å‰ä¸ºæ­¢å¯¹ä»Šåå…¬å¸çš„æ‰€æœ‰æƒè§ä¸‹è¡¨ã€‚ä¸‰ä¸ªäººå†æ¬¡æ‰¾åˆ°äºšå¹³ï¼Œäºšå¹³è¯·ä»–çš„æœ‹å‹ï¼Œæ–¯å¦ç¦å¤§å­¦ç”µæœºå·¥ç¨‹ç³»çš„æŸ¥ç†æ›¼æ•™æˆä½œäº†è¯„ä¼°ï¼Œè¯å®äº†å±±å§†ç­‰äººçš„æŠ€æœ¯æ˜¯å…ˆè¿›çš„å¹¶æœ‰ç›¸å½“çš„å¤æ‚åº¦ï¼Œè€Œä¸”æœ‰ä¸“åˆ©ä¿æŠ¤ï¼Œåˆ«äººä¸æ˜“æŠ„è¢­æ¨¡ä»¿ã€‚äºšå¹³è§‰å¾—å¯ä»¥æŠ•èµ„äº†ï¼Œä»–å’Œä»–çš„å¤©ä½¿æŠ•èµ„å›¢è§‰å¾—å±±å§†ã€å¼ºå°¼å’Œè¿ªå…‹çš„å·¥ä½œåˆ°ç›®å‰ä¸ºæ­¢å€¼ï¼ˆæœªèèµ„å‰ï¼‰ä¸€ç™¾äº”åä¸‡ç¾å…ƒï¼Œè€Œä¸‰ä¸ªåˆ›ä¸šè€…è§‰å¾—ä»–ä»¬çš„å·¥ä½œå€¼äºŒç™¾äº”åä¸‡ï¼Œæœ€åå•†å®šå®šä»·äºŒç™¾ä¸‡ï¼ˆæ³¨ï¼šå¯¹å…¬å¸çš„ä¼°ä»·æ–¹æ³•æœ‰æŒ‰èèµ„å‰ä¼°ä»·ï¼Œå³ Pre-Money ï¼Œå’Œèèµ„åä¼°ä»·ï¼Œå³ Post-Money ä¸¤ç§ã€‚ä»æœ¬è´¨ä¸Šè®²ï¼Œè¿™ä¸¤ç§æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œæˆ‘ä»¬è¿™é‡Œçš„ä¼°è®¡éƒ½ä»¥ Pre-Money æ¥è®¡ç®—ï¼‰ã€‚äºšå¹³å’Œä»–çš„æŠ•èµ„å›¢æŠ•å…¥äº”åä¸‡ï¼Œå åˆ°è‚¡ä»½çš„ 20%ã€‚åŒæ—¶ï¼Œäºšå¹³æå‡ºä¸‹åˆ—è¦æ±‚ï¼š1.äºšå¹³è¦æˆä¸ºè‘£äº‹ä¼šæˆå‘˜ï¼›2.å±±å§†ã€å¼ºå°¼å’Œè¿ªå…‹ä¸‰äººå¿…é¡»ä»åŸæœ‰å…¬å¸è¾èŒï¼Œå…¨èŒä¸ºæ–°å…¬å¸å·¥ä½œã€‚å¹¶ä¸”åœ¨æ²¡æœ‰æ–°çš„æŠ•èµ„è¿›æ¥ä»¥å‰ï¼Œä¸‰ä¸ªäººçš„å·¥èµ„ä¸å¾—é«˜äºæ¯æœˆå››åƒç¾å…ƒï¼›3.å±±å§†ç­‰ä¸‰äººçš„è‚¡ç¥¨å¿…é¡»æŒ‰æœˆåœ¨ä»Šåçš„å››å¹´é‡Œé€æ­¥è·å¾—ï¼ˆVestedï¼‰ï¼Œè€Œä¸æ˜¯åœ¨å…¬å¸æˆç«‹æ—¶ç«‹å³è·å¾—ã€‚è¿™æ ·å¦‚æœå…¶ä¸­æœ‰äººç¦»å¼€äº†ï¼Œä»–åªèƒ½å¾—åˆ°ä¸€éƒ¨åˆ†è‚¡ç¥¨ï¼›4.å¦‚æœæœ‰æ–°çš„ä»»ä½•èèµ„è¡Œä¸ºå¿…é¡»é€šçŸ¥äºšå¹³çš„å¤©ä½¿æŠ•èµ„å›¢ã€‚ç°åœ¨å±±å§†ç­‰äººå°±å¿…é¡»æ­£å¼æˆç«‹å…¬å¸äº†ã€‚ä¸ºäº†å°†æ¥èèµ„å’Œå¼€å±•ä¸šåŠ¡æ–¹ä¾¿èµ·è§ï¼Œä»–ä»¬åœ¨ç‰¹æ‹‰åå·æ³¨å†Œäº†èµ›é€šç§‘æŠ€æœ‰é™å…¬å¸ã€‚å±±å§†ä»»è‘£äº‹ä¼šä¸»å¸­ã€è¿ªå…‹å’Œäºšå¹³ä»»è‘£äº‹ã€‚å±±å§†ä»»æ€»è£ï¼Œå¼ºå°¼ä»»ä¸»ç®¡æŠ€æœ¯çš„å‰¯æ€»è£å…¼é¦–å¸­æŠ€æœ¯å®˜ï¼Œè¿ªå…‹ä»»ä¸»ç®¡å¸‚åœºå’Œè¥é”€çš„å‰¯æ€»è£ã€‚ä¸‰ä¸ªäººå‡ä¸ºå…±åŒåˆ›å§‹äººã€‚å…¬å¸æ³¨å†Œè‚¡ç¥¨ä¸€åƒäº”ç™¾ä¸‡è‚¡ï¼Œå†…éƒ¨æ ¸ç®—ä»·æ ¼æ¯è‚¡äºŒåç¾åˆ†ã€‚åœ¨äºšå¹³æŠ•èµ„åï¼ˆçš„é‚£ä¸€ç¬é—´ï¼‰ï¼Œè¯¥å…¬å¸çš„å†…éƒ¨ä¼°è®¡å·²ç»ä»ä¸¤ç™¾ä¸‡å¢åŠ åˆ°äºŒç™¾äº”åä¸‡ï¼Œä»¥æ¯è‚¡äºŒåç¾åˆ†è®¡ç®—ï¼Œæ‰€æœ‰è‚¡ä¸œçš„è‚¡ç¥¨åªå åˆ° 1250 ä¸‡è‚¡ï¼ˆ250ä¸‡/0.2=1250ä¸‡ï¼‰ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆä¼šå¤šå‡ºæ¥ 250 ä¸‡è‚¡ï¼Œå®ƒä»¬å¹¶æ²¡æœ‰ç›¸åº”çš„èµ„é‡‘æˆ–è€…æŠ€æœ¯åšæŠµæŠ¼ï¼Œè¿™äº›è‚¡ç¥¨çš„å­˜åœ¨å®é™…ä¸Šç¨€é‡Šäº†ï¼ˆDiluteï¼‰æ‰€æœ‰è‚¡ä¸œçš„è‚¡æƒã€‚ä¸ºä»€ä¹ˆå…¬å¸è‡ªå·±è¦å°è¿™äº›ç©ºå¤´é’ç¥¨å‘¢ï¼Ÿå› ä¸ºå®ƒä»¬å¿…é¡»ç•™å‡ºæ¥ç»™ä¸‹é¢çš„ç”¨é€”ï¼š1.ç”±äºå±±å§†ç­‰äººçš„å·¥èµ„å¾ˆä½ï¼Œä»–ä»¬å°†æ ¹æ®è‡ªå·±çš„è´¡çŒ®ï¼Œæ‹¿åˆ°ä¸€éƒ¨åˆ†è‚¡ç¥¨ä½œä¸ºè¡¥å¿ï¼›2.å…¬å¸æ­£å¼æˆç«‹åéœ€è¦é›‡äººï¼Œéœ€è¦ç»™å‘˜å·¥å‘è‚¡ç¥¨æœŸæƒï¼›3.å…¬å¸è¿˜æœ‰ä¸€äº›é‡è¦çš„æˆå‘˜æ²¡æœ‰è¿›æ¥ï¼ŒåŒ…æ‹¬ CEOï¼Œä»–ä»¬å°†è·å¾—ç›¸å½“æ•°é‡çš„è‚¡ç¥¨ã€‚ç°åœ¨ï¼Œè¯¥å…¬å¸å„ä½è‚¡ä¸œè‚¡æƒå¦‚ä¸‹ï¼šæ¥ä¸‹æ¥ï¼Œå±±å§†ç­‰äººè¾å»ä»¥å‰çš„èŒåŠ¡ï¼Œå…¨èŒåˆ›ä¸šã€‚å…¬å¸å¾ˆæˆåŠŸï¼ŒåŠå¹´ååšå‡ºäº†äº§å“çš„åŸå‹ï¼ˆPrototypeï¼‰ã€‚ä½†æ˜¯ï¼Œ50 ä¸‡æŠ•èµ„å·²ç»èŠ±å®Œäº†ï¼Œå…¬å¸ä¹Ÿå‘å±•åˆ° 20 å¤šäººã€‚250 ä¸‡è‚¡ç¥¨ä¹Ÿç”¨å»äº† 150 ä¸‡è‚¡ã€‚è¿™æ—¶ï¼Œä»–ä»¬å¿…é¡»å†èèµ„ã€‚ç”±äºè¯¥å…¬å¸å‰æ™¯å¯è§‚ï¼Œç»ˆäºå¾—åˆ°äº†çº¢æ‰é£æŠ•çš„é’çã€‚çº¢æ‰é£æŠ•ä¸ºè¯¥å…¬å¸ä½œä»· 1500 ä¸‡ç¾å…ƒï¼Œè¿™æ—¶ï¼Œè¯¥å…¬å¸çš„è‚¡ç¥¨æ¯è‚¡å€¼ 1 ç¾å…ƒäº†ï¼Œæ¯”äºšå¹³æŠ•èµ„æ—¶æ¶¨äº†å››å€ã€‚çº¢æ‰åŒæ„æŠ•èµ„ 500 ä¸‡ç¾å…ƒï¼Œå  25%ï¼Œè¿™æ ·æ€»è‚¡æ•°å¢åŠ åˆ° 2000 ä¸‡è‚¡ã€‚åŒæ—¶ï¼Œçº¢æ‰é£æŠ•å°†å§”æ´¾ä¸€äººåˆ°è¯¥å…¬å¸è‘£äº‹ä¼šä»»èŒã€‚å±±å§†ç­‰äººè¿˜ç­”åº”ï¼Œç”±çº¢æ‰é£æŠ•å¸®åŠ©å¯»æ‰¾ä¸€ä½èŒä¸šç»ç†äººåšå…¬å¸çš„æ­£å¼ CEOã€‚åŒæ–¹è¿˜å•†å®šï¼Œèèµ„åå†ç¨€é‡Š 5%ï¼Œå³ 100 ä¸‡è‚¡ï¼Œä¸ºä»¥åçš„å‘˜å·¥å‘æœŸæƒã€‚ç°åœ¨è¯¥å…¬å¸è‚¡æƒå¦‚ä¸‹ï¼šè¯»è€…ä¹Ÿè®¸å·²ç»æ³¨æ„åˆ°ï¼Œçº¢æ‰é£æŠ•ç°åœ¨å·²ç»æˆä¸ºäº†æœ€å¤§çš„è‚¡ä¸œã€‚ä¸¤å¹´åï¼Œè¯¥å…¬å¸çš„æ ·å“ç ”åˆ¶æˆåŠŸï¼Œå¹¶è·å¾—ä¸œèŠå…¬å¸çš„è®¢å•ï¼ŒåŒæ—¶è¯·åˆ°äº†å‰åšé€šå…¬å¸çš„ COO æ¯”å°”å‡ºä»» CEOã€‚æ¯”å°”è¿›å…¥äº†è‘£äº‹ä¼šï¼Œå¹¶ä»¥æ¯è‚¡ä¸‰ç¾å…ƒçš„ä»·é’±è·å¾— 100 ä¸‡è‚¡çš„æœŸæƒã€‚å½“ç„¶æ–°æ¥çš„å‘˜å·¥ä¹Ÿç”¨å»ä¸€äº›æœªåˆ†é…çš„è‚¡ç¥¨ã€‚è¿™æ—¶è¯¥å…¬å¸çš„è‚¡ä»·å…¶å®æ¯”çº¢æ‰é£æŠ•æŠ•èµ„æ—¶ï¼Œå·²ç»æ¶¨äº†ä¸¤å€ã€‚æ¯”å°”åˆ°ä»»åï¼Œå…¬å¸è¿›ä¸€æ­¥å‘å±•ï¼Œä½†æ˜¯ä»ç„¶æ²¡æœ‰ç›ˆåˆ©ã€‚äºæ˜¯ï¼Œè‘£äº‹ä¼šå†³å®šå†ä¸€æ¬¡èèµ„ï¼Œç”±çº¢æ‰é£æŠ•é¢†å¤´ååŒå¦ä¸¤å®¶é£æŠ•æŠ•èµ„ä¸€åƒäº”ç™¾ä¸‡ã€‚å…¬å¸åœ¨æŠ•èµ„æ—¶ä½œä»·ä¸€äº¿äº”ç™¾ä¸‡ï¼Œå³æ¯è‚¡äº”ç¾å…ƒã€‚ç°åœ¨ï¼Œè¯¥å…¬å¸è‚¡æƒå˜ä¸ºï¼šè¿™æ—¶ï¼ŒæŠ•èµ„è€…çš„è‚¡ä»½å·²å åˆ° 44%ï¼Œå’Œåˆ›å§‹äººç›¸å¯¹ï¼Œå³æ‹¥æœ‰äº†ä¸€åŠå·¦å³çš„æ§åˆ¶æƒã€‚åˆè¿‡äº†ä¸¤å¹´ï¼Œè¯¥å…¬å¸å¼€å§‹ç›ˆåˆ©ï¼Œå¹¶åœ¨é«˜ç››çš„å¸®åŠ©ä¸‹å¢å‘å…­ç™¾ä¸‡è‚¡ï¼Œåœ¨çº³æ–¯è¾¾å…‹ä¸Šå¸‚ï¼Œä¸Šå¸‚æ—¶åŸå§‹è‚¡å®šä»·æ¯è‚¡ 25 ç¾å…ƒã€‚è¿™æ ·ï¼Œä¸€ä¸ªç§‘æŠ€å…¬å¸åœ¨ VC çš„å¸®åŠ©ä¸‹ä¾¿åˆ›åŠæˆåŠŸäº†ã€‚ä¸Šå¸‚åï¼Œè¯¥å…¬å¸æ€»å¸‚å€¼å¤§çº¦ä¸ƒäº¿äº”åƒä¸‡ç¾å…ƒã€‚è¯¥å…¬å¸è‚¡æƒå¦‚ä¸‹ï¼šè¿™æ—¶ï¼Œåˆ›å§‹äººå±±å§†ç­‰äººæˆäº†å……æ»¡ä¼ å¥‡è‰²å½©çš„äº¿ä¸‡å¯Œç¿ï¼Œå…¶å‘˜å·¥å…±æŒæœ‰ä»·å€¼è¿‘äº”åƒä¸‡ç¾å…ƒçš„è‚¡ç¥¨ï¼Œä¸å°‘ä¹Ÿæˆäº†ç™¾ä¸‡å¯Œç¿ã€‚ä½†æ˜¯ï¼Œå±±å§†ç­‰å…¨ä½“å…¬å¸å‘˜å·¥åªæŒæœ‰ 44% çš„è‚¡ä»½ï¼Œå…¬å¸çš„æ‰€æœ‰æƒçš„å¤§éƒ¨åˆ†ä»åˆ›å§‹äººå’Œå‘˜å·¥æ‰‹é‡Œè½¬ç§»åˆ°æŠ•èµ„è€…æ‰‹ä¸­ã€‚ä¸€èˆ¬æ¥è®²ï¼Œä¸€ä¸ªåˆ›å§‹äººåœ¨å…¬å¸ä¸Šå¸‚æ—¶è¿˜èƒ½æ¡æœ‰ 10% çš„è‚¡ä»½å·²ç»å¾ˆä¸é”™äº†ã€‚ä½œä¸ºæœ€æ—©çš„æŠ•èµ„è€…ï¼Œäºšå¹³çš„å¤©ä½¿æŠ•èµ„å›¢æ”¶ç›Šæœ€é«˜ï¼Œé«˜è¾¾ä¸€ç™¾äºŒåå››å€ã€‚çº¢æ‰é£æŠ•çš„ç¬¬ä¸€è½®è·åˆ©äºŒåå››å€ï¼Œç¬¬äºŒè½®å’Œå…¶å®ƒä¸¤å®¶é£æŠ•å‡è·åˆ©å››å€ã€‚æ˜¾ç„¶ï¼Œè¶Šæ—©æŠ•èµ„ä¸€ä¸ªæœ‰å¸Œæœ›çš„å…¬å¸è·åˆ©è¶Šå¤§ï¼Œå½“ç„¶ï¼Œå¤±è´¥çš„å¯èƒ½æ€§ä¹Ÿè¶Šå¤§ã€‚ä¸€èˆ¬å¤§çš„é£æŠ•åŸºé‡‘éƒ½ä¼šæŒ‰ä¸€å®šæ¯”ä¾‹æŠ•å…¥åˆ°ä¸åŒå‘å±•é˜¶æ®µçš„å…¬å¸ï¼Œè¿™æ ·æ—¢ä¿è¯åŸºæœ¬çš„å›æŠ¥ï¼Œä¹Ÿä¿è¯æœ‰å¾—åˆ°å‡ åå€å›æŠ¥çš„æœºä¼šã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;é£é™©æŠ•èµ„çš„è¿‡ç¨‹å…¶å®å°±æ˜¯ä¸€ä¸ªç§‘æŠ€å…¬å¸åˆ›åŠçš„è¿‡ç¨‹ã€‚
    
    </summary>
    
      <category term="é˜…è¯»" scheme="http://zhujm.top/categories/%E9%98%85%E8%AF%BB/"/>
    
    
      <category term="Note" scheme="http://zhujm.top/tags/Note/"/>
    
  </entry>
  
  <entry>
    <title>A custom clock view .</title>
    <link href="http://zhujm.top/2018/08/15/201908151322/"/>
    <id>http://zhujm.top/2018/08/15/201908151322/</id>
    <published>2018-08-15T05:22:08.000Z</published>
    <updated>2019-08-15T12:00:58.121Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p> è‡ªå·±å­¦ä¹ å¼€å‘çš„ä¸€æ¬¾åŸºäºå®‰å“è‡ªå®šä¹‰Viewå®ç°çš„æœºæ¢°æ‰‹è¡¨View</p></blockquote><a id="more"></a><p><a href="https://github.com/zhujiaming/CustomClockView" target="_blank" rel="noopener">githubä¼ é€é—¨</a></p><p><img src="https://img.shields.io/badge/QQ-771407650-green.svg" alt> <img src="https://img.shields.io/badge/email-ah_zjm@163.com-blue.svg" alt></p><p><img src="http://upload-images.jianshu.io/upload_images/1948083-00ebfe8e350ee5dc.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/400" alt="customclock"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt; è‡ªå·±å­¦ä¹ å¼€å‘çš„ä¸€æ¬¾åŸºäºå®‰å“è‡ªå®šä¹‰Viewå®ç°çš„æœºæ¢°æ‰‹è¡¨View&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="ä¸ªäººé¡¹ç›®" scheme="http://zhujm.top/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Android" scheme="http://zhujm.top/tags/Android/"/>
    
  </entry>
  
  <entry>
    <title>å…³äºAndroidè®¾å¤‡å·²è¿æ¥wifiå¯†ç çš„è·å–å¯†ç æ–¹å¼</title>
    <link href="http://zhujm.top/2018/06/15/201908151353/"/>
    <id>http://zhujm.top/2018/06/15/201908151353/</id>
    <published>2018-06-15T05:51:00.000Z</published>
    <updated>2019-08-15T05:56:20.280Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Androidç³»ç»Ÿæœ¬èº«ç›®å‰å¹¶ä¸æ”¯æŒç›´æ¥æ˜¾ç¤ºå½“å‰å·²è¿æ¥wifiå¯†ç ï¼Œ<a id="more"></a>å½“Androidè®¾å¤‡è¿æ¥wifiæˆåŠŸåï¼Œæƒ³è¦å’Œä»–äººåˆ†äº«wifiå‡ ä¹æ˜¯ä¸å¤§å¯èƒ½,ï¼ˆå½“ç„¶ï¼Œæˆ‘ç›®å‰äº†è§£çš„å¦‚æœæ˜¯å°ç±³æ‰‹æœºï¼Œç›´æ¥å¯ä»¥é€šè¿‡wifiäºŒç»´ç ä¿¡æ¯è·å–åˆ°å¯†ç ï¼‰ï¼Œä¸‹é¢è®°å½•ä¸¤ç§ç®€å•çš„è·å–æ™®é€šandroidè®¾å¤‡å·²è¿æ¥wifiå¯†ç çš„æ–¹å¼ã€‚</p></blockquote><p>å¤§è‡´æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å–åˆ°å½“å‰è®¾å¤‡wifiçš„è¯¦ç»†ä¿¡æ¯,åˆ†ä¸ºrootæ–¹å¼ä¸érootæ–¹å¼</p><hr><h5 id="rootæ–¹å¼"><a href="#rootæ–¹å¼" class="headerlink" title="rootæ–¹å¼"></a>rootæ–¹å¼</h5><p>å®‰å“æ‰‹æœºçš„ROOTï¼šå³ä¸ºè·å–æœ€é«˜çš„æƒé™ï¼Œå°±è·Ÿç”µè„‘è·å–è¶…çº§ç®¡ç†å‘˜ä¸€æ ·çš„!å› ä¸ºå‚å®¶æ€•ä½ ä¸æ‡‚æ‰‹æœºç³»ç»Ÿå°±è®¾ç½®äº†è¿™æ ·ä¸€ä¸ªæƒé™ã€‚ä½ çš„æ‰‹æœºæ²¡ROOTä¹‹å‰ï¼Œä½ æ˜¯ä»¥ä¸€ä¸ªä½¿ç”¨è€…çš„èº«ä»½åœ¨ç”¨è¿™ä¸ªæ‰‹æœºã€‚ä½ åªèƒ½è¢«åŠ¨çš„ä½¿ç”¨é‡Œé¢çš„ä¸€äº›åŠŸèƒ½ï¼Œæˆ–è€…åœ¨ä¸å½±å“ç³»ç»Ÿå…¨å±€çš„æƒ…å†µä¸‹å®‰è£…ä¸€äº›æ–°çš„ç¨‹åºã€‚</p><ul><li><p>å‡†å¤‡ä¸€å°å·²rootçš„androidè®¾å¤‡<br>é€šè¿‡è½¯ä»¶rootå½“å‰è®¾å¤‡ï¼Œè·å–ç®¡ç†å‘˜æœ€é«˜æƒé™ï¼Œå¯é€šè¿‡å¸‚é¢ä¸Šä¸€äº›æ‰‹æœºrootè½¯ä»¶æ¥æ“ä½œï¼Œå¦‚rootå¤§å¸ˆï¼Œ360ä¸€é”®rootç­‰ã€‚</p></li><li><p>æŸ¥çœ‹androidè®¾å¤‡æ˜¯å¦å·²è·å–rootæƒé™<br>åœ¨å®‰å“æ‰‹æœºä¸­ä¸‹è½½å®‰è£…<a href="http://shouji.baidu.com/software/10047789.html" target="_blank" rel="noopener">REæ–‡ä»¶ç®¡ç†å™¨</a>ï¼ˆè¯¥è½¯ä»¶åœ¨ä¹‹åä¹Ÿä¼šç”¨åˆ°ï¼‰ï¼Œä¸‹è½½åæ‰“å¼€ï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1948083-90dfe95463b0efff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="è¿›å…¥æ ¹ç›®å½•"></p></li></ul><p>åœ¨ç®­å¤´æ‰€æŒ‡çš„åœ°æ–¹ï¼Œæ˜¾ç¤ºä¸ºå·²æŒ‚è½½ä¸ºå¯è¯»å†™ï¼Œå³ä¸ºå·²rootçŠ¶æ€ï¼Œå½“å‰æ–‡ä»¶å¤¹ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸ºå¯è¯»å†™ã€‚</p><ul><li><p>è¿›å…¥æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹<br>åœ¨æ ¹ç›®å½•ä¸‹è¿›å…¥ /data/misc/wifi/ ç›®å½•ä¸‹æ‰¾åˆ°æ–‡ä»¶wpa_supplicant.confï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1948083-dd192a0722fdcfad.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ‰¾åˆ°æ–‡ä»¶"></p></li><li><p>ä»¥æ–‡æœ¬æ–¹å¼æ‰“å¼€è¯¥æ–‡ä»¶<br>æ‰“å¼€åå†…å®¹å¦‚å›¾ï¼š<br><img src="http://upload-images.jianshu.io/upload_images/1948083-db57cc1a895141cc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="wpa_supplicant.conf"><br>å…¶ä¸­ï¼Œç®­å¤´æ‰€æŒ‡ssidä¸pskåˆ†åˆ«ä¸ºå·²è¿æ¥è¿‡çš„wifiçš„åç§°ä¸å¯†ç äº†ã€‚</p></li></ul><p>å½“ç„¶ï¼Œåœ¨å·²è·å–rootæƒé™çš„æ‰‹æœºä¸Šä¸‹è½½wifiä¿¡æ¯æŸ¥çœ‹ç±»çš„apkè½¯ä»¶ä¹Ÿæ˜¯å¯ä»¥æŸ¥çœ‹å¯†ç çš„ï¼Œå¦‚ <a href="http://p.gdown.baidu.com/69779bc851be62657bedfd6f4d7ebcc7e51e57510566c2c0c1068368f911dec32417c03f33a1d061ba02af9e3b225894e66a5e0a9324a271de8c036faf59fc15141cf0cf4368df6124f4762d38c364a81c2ce6c5ae3c168f54d07a0b96969fd0cd16fc87605a0b92a0c7c0d672bc664ca833f9566b72fb857ab8dd9a282c952a9d8f69291650a553bf757097a8fe5d90be654419b5f7ceef7e18099ccd010a0d" target="_blank" rel="noopener">WIFIå¯†ç æŸ¥çœ‹å™¨</a>ã€‚</p><hr><h5 id="érootæ–¹å¼"><a href="#érootæ–¹å¼" class="headerlink" title="érootæ–¹å¼"></a>érootæ–¹å¼</h5><ul><li>érootæ–¹å¼åº”ç”¨åˆ°androidç³»ç»Ÿçš„å¤‡ä»½åŠŸèƒ½ï¼Œå°†wifiä¿¡æ¯å¤‡ä»½åˆ°sdå¡çš„å¯è¯»å†™ç›®å½•ä¸­ï¼Œæ‰“å¼€ç›¸åº”æ–‡ä»¶å¦‚ç±»ä¼¼backupå‘½åçš„æ–‡ä»¶å¤¹ä¸­çš„ç›¸åº”æ–‡ä»¶ä¾¿å¯æŸ¥çœ‹å¯†ç ã€‚ä½†æ˜¯æŸäº›ç”±äºå›½äº§æ‰‹æœºå¯¹å®‰å“ç³»ç»Ÿæ”¹é€ å¤ªå¤§ï¼Œéƒ¨åˆ†å›½äº§å“ç‰Œæ‰‹æœºæœªå¯¹ç”¨æˆ·æä¾›å¤‡ä»½åŠŸèƒ½ï¼Œæˆ–è€…å¤‡ä»½æ•°æ®è¿›è¡Œäº†åŠ å¯†ï¼Œæ— æ³•æŸ¥çœ‹ï¼Œå› æ­¤ï¼Œè¯¥æ–¹æ³•ä»…é€‚ç”¨äºéƒ¨åˆ†æ‰‹æœºã€‚<br>äº²æµ‹ç›®å‰åªæœ‰å°‘éƒ¨åˆ†æ‰‹æœºå¯é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ã€‚<br>å…·ä½“æ–¹å¼<a href="http://jingyan.baidu.com/album/e75aca857b3e60142edac607.html?picindex=3" target="_blank" rel="noopener">ç™¾åº¦ç»éªŒ</a>ä¸Šæœ‰ä»‹ç»ã€‚</li><li>ä¸‡èƒ½é’¥åŒ™æ–¹å¼ï¼Œè¯¥æ–¹å¼ä¼°è®¡å¤§å¤šæ•°äººéƒ½çŸ¥é“ï¼Œé‡‡ç”¨äº†çƒ­ç‚¹è¿æ¥åˆ†äº«ä¸ç®€å•å¯†ç æš´åŠ›ç ´è§£çš„æ–¹å¼ï¼Œçƒ­ç‚¹è¿æ¥åˆ†äº«ä¼°è®¡å°±æ˜¯é‡‡ç”¨ä¸‡èƒ½é’¥åŒ™è‡ªå·±çš„appè¿›è¡Œwifiè¿æ¥æ—¶ï¼Œä¸‡èƒ½é’¥åŒ™å°±èƒ½è·å–åˆ°wifiä¿¡æ¯ä»¥åŠå½“å‰åœ°ç‚¹ä¿¡æ¯ï¼Œå†å¤‡ä»½åˆ°ç½‘ç»œæœåŠ¡å™¨ï¼Œåˆ†äº«ç»™å½“å‰åœ°ç‚¹å…¶ä»–äººï¼›è€Œæš´åŠ›ç ´è§£éƒ½çŸ¥é“æ˜¯ç”¨æ•°æ®å­—å…¸ä¸­çš„æ•°æ®ä¸€ä¸ªä¸ªä½œä¸ºå¯†ç ç™»å½•wifiï¼Œç›´åˆ°æˆåŠŸã€‚</li><li>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å°ç±³æ‰‹æœºï¼Œwifiå¯†ç è·å–èµ·æ¥ç›¸å¯¹æ›´å®¹æ˜“ã€‚</li></ul><hr><h6 id="æ›´å¤šæ–¹å¼å¸Œæœ›æœ‰å¤§ç¥èƒ½è¡¥å……è¡¥å……ã€‚"><a href="#æ›´å¤šæ–¹å¼å¸Œæœ›æœ‰å¤§ç¥èƒ½è¡¥å……è¡¥å……ã€‚" class="headerlink" title="æ›´å¤šæ–¹å¼å¸Œæœ›æœ‰å¤§ç¥èƒ½è¡¥å……è¡¥å……ã€‚"></a>æ›´å¤šæ–¹å¼å¸Œæœ›æœ‰å¤§ç¥èƒ½è¡¥å……è¡¥å……ã€‚</h6><h6 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h6><ul><li>ç™¾åº¦æ–‡åº“</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Androidç³»ç»Ÿæœ¬èº«ç›®å‰å¹¶ä¸æ”¯æŒç›´æ¥æ˜¾ç¤ºå½“å‰å·²è¿æ¥wifiå¯†ç ï¼Œ
    
    </summary>
    
    
      <category term="Android" scheme="http://zhujm.top/tags/Android/"/>
    
      <category term="WiFi" scheme="http://zhujm.top/tags/WiFi/"/>
    
  </entry>
  
  <entry>
    <title>mac ä¸ŠAndroidStudioå‘½ä»¤è¡Œgradlewæ‰§è¡Œå‡ºé”™</title>
    <link href="http://zhujm.top/2018/06/15/201908151319/"/>
    <id>http://zhujm.top/2018/06/15/201908151319/</id>
    <published>2018-06-15T05:19:22.000Z</published>
    <updated>2019-08-15T05:57:03.312Z</updated>
    
    <content type="html"><![CDATA[<h4 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h4><p>ä½¿ç”¨macæ‰“åŒ…å‘½ä»¤ ./gradlew assembleRelease æ—¶ï¼Œå‡ºç°ï¼š</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">env: bash\r: No such file or directory</span><br></pre></td></tr></table></figure><p>çš„é”™è¯¯ï¼ŒåŸå› å¯èƒ½æ˜¯gradlew æ–‡ä»¶ä¸­å«æœ‰éæ³•å­—ç¬¦äº†</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ç”¨macçš„AndroidStudio é‡æ–°åˆ›å»ºä¸€ä¸ªå®‰å“é¡¹ç›®ï¼Œå°†å…¶ä¸­çš„gradlewæ–‡ä»¶å¤åˆ¶åˆ°è¯¥å‡ºé”™çš„é¡¹ç›®æ›´ç›®å½•æ›¿æ¢åŸæ¥çš„gradlewï¼Œå†æ¬¡è¿è¡Œå³å¯æ­£å¸¸æ‰§è¡Œã€‚</p><h4 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h4><p>æ‰§è¡Œgradlewå‘½ä»¤æ˜¯å‡ºç° Promission Denideé—®é¢˜ï¼Œæ²¡æœ‰æƒé™æ‰§è¡Œçš„é—®é¢˜</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>æ‰§è¡Œ chmod +x gradlew</p><p>å³å¯è§£å†³è¯¥é—®é¢˜ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;é—®é¢˜ä¸€&quot;&gt;&lt;a href=&quot;#é—®é¢˜ä¸€&quot; class=&quot;headerlink&quot; title=&quot;é—®é¢˜ä¸€&quot;&gt;&lt;/a&gt;é—®é¢˜ä¸€&lt;/h4&gt;&lt;p&gt;ä½¿ç”¨macæ‰“åŒ…å‘½ä»¤ ./gradlew assembleRelease æ—¶ï¼Œå‡ºç°ï¼š&lt;/p&gt;
    
    </summary>
    
      <category term="é—®é¢˜ä¸è§£å†³" scheme="http://zhujm.top/categories/%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3/"/>
    
    
      <category term="AndroidStudio" scheme="http://zhujm.top/tags/AndroidStudio/"/>
    
      <category term="Gradle" scheme="http://zhujm.top/tags/Gradle/"/>
    
      <category term="Mac" scheme="http://zhujm.top/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>AndriodStudioæ‰“å¼€é¡¹ç›®é•¿æ—¶é—´æ— å“åº”è§£å†³</title>
    <link href="http://zhujm.top/2018/06/11/201908151038/"/>
    <id>http://zhujm.top/2018/06/11/201908151038/</id>
    <published>2018-06-11T05:02:58.000Z</published>
    <updated>2019-08-15T05:49:21.533Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>é¦–æ¬¡å®‰è£… AndroidStudio åï¼ŒåŸºæœ¬éƒ½ä¼šç»å†ä¸€ä¸ªæ¼«é•¿çš„ Gradle æ„å»ºå·¥å…·ä¸‹è½½è¿‡ç¨‹ï¼Œé¿å…è¿™ä¸ªæ¼«é•¿çš„ç­‰å¾…ï¼Œé‚£å°±åªæœ‰æ‰‹åŠ¨ä¸‹è½½ã€‚</p></blockquote><a id="more"></a><h6 id="æ‰‹åŠ¨ä¸‹è½½-Gradle-æ„å»ºå·¥å…·å¹¶è®¾ç½®æ­¥éª¤ï¼š"><a href="#æ‰‹åŠ¨ä¸‹è½½-Gradle-æ„å»ºå·¥å…·å¹¶è®¾ç½®æ­¥éª¤ï¼š" class="headerlink" title="æ‰‹åŠ¨ä¸‹è½½ Gradle æ„å»ºå·¥å…·å¹¶è®¾ç½®æ­¥éª¤ï¼š"></a>æ‰‹åŠ¨ä¸‹è½½ Gradle æ„å»ºå·¥å…·å¹¶è®¾ç½®æ­¥éª¤ï¼š</h6><ol><li><p>æ‰“å¼€ é¡¹ç›®ç›®å½•/gradle/wrapper/gradle-wrapper.properties</p></li><li><p>æŸ¥çœ‹ distributionUrl çš„å€¼çš„ gradle ç‰ˆæœ¬å·ï¼ˆå¦‚ï¼šgradle-2.4-all.zipï¼‰ï¼Œä¾¿è·å¾—äº†è¯¥é¡¹ç›®æ‰€éœ€ Gradle æ„å»ºå·¥å…·ç‰ˆæœ¬</p></li><li><p><a href="https://pan.baidu.com/s/1pLEkm4F?utm_source=androiddevtools.cn&utm_medium=website#list/path=%2F" target="_blank" rel="noopener">ç‚¹å‡»è¿™é‡Œ</a>æˆ–<a href="services.gradle.org/distributions/">å®˜æ–¹æ¸ é“</a><br>é€‰æ‹©ç›¸åº”çš„ç‰ˆæœ¬ä¸‹è½½ï¼Œä¸‹è½½é€Ÿåº¦ç›¸æ¯” as è‚¯å®šå¿«ä¸å°‘</p></li><li><p>ä¸‹è½½å®Œæˆï¼Œæ‰“å¼€ user ç›®å½•ä¸‹çš„ä¸€ä¸ª/.gradle æ–‡ä»¶å¤¹(windows ä¸ mac ç›¸ä¼¼ï¼Œéƒ½æ˜¯ç”¨æˆ·ç›®å½•ä¸‹ï¼Œå¹¶ä¸”éœ€è¦è®¾ç½®æ˜¾ç¤ºéšè—æ–‡ä»¶ï¼Œå…·ä½“ç™¾åº¦å³å¯ï¼Œå¦‚æœæ²¡æœ‰./gradleï¼Œè¿è¡Œä¸€é AndroidStudioï¼Œè·‘ä¸ªé¡¹ç›®å kill AndroidStudio ä¾¿æœ‰äº†)</p></li><li><p>æ‰¾åˆ°/.gradle/wrapper/dist/ ç›®å½•ä¸‹è‚¯å®šä¼šæœ‰ gradle-x.x-all çš„æ–‡ä»¶å¤¹ï¼Œä¸”å¯¹åº”é¡¹ç›®æ‰€éœ€çš„ç‰ˆæœ¬å·ï¼ˆæ²¡æœ‰åˆ™æŠŠè¯¥é¡¹ç›®å¯¼å…¥ AndroidStudioï¼Œç„¶ååœ¨ as ä¸‹è½½è¿‡ç¨‹ä¸­å¼ºåˆ¶ç»“æŸ asï¼Œå³å¯æ‰¾åˆ°è¯¥æ–‡ä»¶å¤¹ï¼‰</p></li><li><p>æŠŠä¸Šé¢ä¸‹è½½å¥½çš„ jar åŒ…ä¸¢è¿›å»ï¼Œé‡æ–°è·‘ AndroidStudioï¼Œè¿™æ—¶ï¼Œä¾¿æ­£å¸¸å•¦ã€‚</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;é¦–æ¬¡å®‰è£… AndroidStudio åï¼ŒåŸºæœ¬éƒ½ä¼šç»å†ä¸€ä¸ªæ¼«é•¿çš„ Gradle æ„å»ºå·¥å…·ä¸‹è½½è¿‡ç¨‹ï¼Œé¿å…è¿™ä¸ªæ¼«é•¿çš„ç­‰å¾…ï¼Œé‚£å°±åªæœ‰æ‰‹åŠ¨ä¸‹è½½ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="devTools" scheme="http://zhujm.top/categories/devTools/"/>
    
    
      <category term="AndroidStudio" scheme="http://zhujm.top/tags/AndroidStudio/"/>
    
      <category term="Gradle" scheme="http://zhujm.top/tags/Gradle/"/>
    
  </entry>
  
  <entry>
    <title>ç®€å•ç ´è§£ä¸€æ¬¾å®‰å“è½¯ä»¶</title>
    <link href="http://zhujm.top/2018/03/22/201908151029/"/>
    <id>http://zhujm.top/2018/03/22/201908151029/</id>
    <published>2018-03-22T03:32:08.000Z</published>
    <updated>2019-08-15T05:16:55.373Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ä¸‹è½½apktoolå·¥å…·"><a href="#ä¸‹è½½apktoolå·¥å…·" class="headerlink" title="ä¸‹è½½apktoolå·¥å…·"></a>ä¸‹è½½apktoolå·¥å…·</h5><p>ä»å®˜æ–¹æ¸ é“ä¸‹è½½â†’<a href="https://ibotpeaches.github.io/Apktool/" target="_blank" rel="noopener">å®˜æ–¹ä¸‹è½½</a></p><a id="more"></a><ul><li>ç®€å•çš„å‘½ä»¤:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">$ apktool d test.apk</span><br><span class="line">I: Using Apktool 2.3.4 on test.apk</span><br><span class="line">I: Loading resource table...</span><br><span class="line">I: Decoding AndroidManifest.xml with resources...</span><br><span class="line">I: Loading resource table from file: 1.apk</span><br><span class="line">I: Regular manifest package...</span><br><span class="line">I: Decoding file-resources...</span><br><span class="line">I: Decoding values */* XMLs...</span><br><span class="line">I: Baksmaling classes.dex...</span><br><span class="line">I: Copying assets and libs...</span><br><span class="line">I: Copying unknown files...</span><br><span class="line">I: Copying original files...</span><br><span class="line">$ apktool b test</span><br><span class="line">I: Using Apktool 2.3.4 on test</span><br><span class="line">I: Checking whether sources has changed...</span><br><span class="line">I: Smaling smali folder into classes.dex...</span><br><span class="line">I: Checking whether resources has changed...</span><br><span class="line">I: Building resources...</span><br><span class="line">I: Building apk file...</span><br><span class="line">I: Copying unknown files/dir...</span><br></pre></td></tr></table></figure></li></ul><p>ä¸»è¦ç”¨åˆ°è¿™ä¸¤ä¸ªå‘½ä»¤ã€‚</p><h5 id="åº”ç”¨å¸‚åœºæ‘˜å–ä¸€æšapk"><a href="#åº”ç”¨å¸‚åœºæ‘˜å–ä¸€æšapk" class="headerlink" title="åº”ç”¨å¸‚åœºæ‘˜å–ä¸€æšapk"></a>åº”ç”¨å¸‚åœºæ‘˜å–ä¸€æšapk</h5><p>æ­¤å¤„ç®€å•ä»¥youdaonote.apkä¸ºä¾‹</p><ul><li><p>æ‰§è¡Œå®Œæ¯•apktool d xxx.apkåï¼Œä¼šåœ¨åŒçº§ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶å¤¹<br><img src="https://upload-images.jianshu.io/upload_images/1948083-8923d61960b7e5e9.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="åç¼–è¯‘å"></p></li><li><p>åœ¨IntelliJ IDEAä¸­æ‰“å¼€<br><img src="https://upload-images.jianshu.io/upload_images/1948083-dc826fe2be61d84f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="in idea"></p></li><li><p>å°è¯•ç ´è§£-évipå¯ä½¿ç”¨å£çº¸<br>ï¼ˆåœ¨è¯¥åº”ç”¨ä¸­ï¼Œévipæ˜¯æ— æ³•ä½¿ç”¨ç‰¹å®šå£çº¸ï¼‰<br><img src="https://upload-images.jianshu.io/upload_images/1948083-65afc3d243369282.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/300" alt="image.png"><br>æ­¤å¤„éœ€è¦äº†è§£ç®€å•çš„smaliè¯­æ³•<br>å‚è€ƒï¼š<a href="https://www.cnblogs.com/sevck/p/6844513.html" target="_blank" rel="noopener">https://www.cnblogs.com/sevck/p/6844513.html</a><br>ä¹‹åå°±æ˜¯å¯ä»¥å…¨å±€æŸ¥æ‰¾ï¼Œæµè§ˆç­‰ç­‰æ‰‹æ®µï¼Œå®šä½åˆ°å…³é”®ä»£ç ä½ç½®ï¼Œä¿®æ”¹smaliä»£ç ï¼Œå†é€šè¿‡ä¸Šé¢çš„å‘½ä»¤æ¥å®Œæˆé‡æ–°æ‰“åŒ…ï¼Œå†ç­¾åï¼Œå³å¾—ä¸€æšç ´è§£åŒ…ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- apktool b test</span><br></pre></td></tr></table></figure></li></ul><h4 id="åè®°"><a href="#åè®°" class="headerlink" title="åè®°"></a>åè®°</h4><p>è¿™é‡Œåªæ˜¯ç®€å•çš„è®°å½•ä¸‹ç ´è§£æ‰‹æ®µï¼Œå› ä¸ºè‡ªå®¶appä¹Ÿè¢«ç ´è§£äº†ï¼Œå¿…é¡»å¾—çŸ¥å·±çŸ¥å½¼ã€‚<br>ç ´è§£è½¯ä»¶ä¸å®‰å…¨ï¼Œç”¨ä¸å¾—ï¼Œæ­¤å¤„ä»…ä¾›å­¦ä¹ ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># åç¼–è¯‘</span><br><span class="line">apktool d app-release.apk -o outdir </span><br><span class="line"></span><br><span class="line"># å›ç¼–è¯‘ï¼ˆç”Ÿæˆçš„apké»˜è®¤æ”¾åœ¨outdir/distç›®å½•ä¸­ï¼‰</span><br><span class="line">apktool b outdir</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ä¸‹è½½apktoolå·¥å…·&quot;&gt;&lt;a href=&quot;#ä¸‹è½½apktoolå·¥å…·&quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½apktoolå·¥å…·&quot;&gt;&lt;/a&gt;ä¸‹è½½apktoolå·¥å…·&lt;/h5&gt;&lt;p&gt;ä»å®˜æ–¹æ¸ é“ä¸‹è½½â†’&lt;a href=&quot;https://ibotpeaches.github.io/Apktool/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;å®˜æ–¹ä¸‹è½½&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://zhujm.top/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Android" scheme="http://zhujm.top/tags/Android/"/>
    
      <category term="é€†å‘" scheme="http://zhujm.top/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>æµ…æReact-Native WebView,å®ç°RNä»£ç ä¸Htmlçš„ç®€å•äº¤äº’</title>
    <link href="http://zhujm.top/2017/12/06/201908151301/"/>
    <id>http://zhujm.top/2017/12/06/201908151301/</id>
    <published>2017-12-06T05:01:58.000Z</published>
    <updated>2019-08-15T05:17:21.356Z</updated>
    
    <content type="html"><![CDATA[<h4 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h4><blockquote><p>åŸºäºReact-Native0.41åŠ0.25ä¸¤ä¸ªç‰ˆæœ¬æ¥åˆ†æ</p></blockquote><a id="more"></a><blockquote><p>å…¬å¸é¡¹ç›®åŸºäºReactNativeå¼€å‘ï¼Œæœ€è¿‘æœ‰ä¸ªéœ€æ±‚ä¸ºåµŒå…¥Webé¡µé¢è‡³åº”ç”¨ä¸­ï¼Œåˆ†æéœ€æ±‚å‘ç°æŠ€æœ¯å®ç°ä¸­æ¶‰åŠäº†Webé¡µé¢ä¸appä»£ç ä¹‹é—´çš„äº¤äº’ï¼Œè¿™å¯¹äºåŸç”Ÿæ¥è¯´å®ç°å¹¶ä¸éš¾ï¼Œä½†å¯¹äºæ¥è§¦ä¸ä¹…çš„RNæ¥è¯´ï¼Œå®ç°èµ·æ¥æœ‰ç‚¹éš¾åº¦ã€‚ä¸‹é¢ç»“åˆReact-Native WebView APIæ¥åˆ†æWebViewçš„ä½¿ç”¨åŠç®€å•çš„äº¤äº’ã€‚</p></blockquote><h6 id="ä»¥ä¸‹å†…å®¹åŒ…æ‹¬ï¼š"><a href="#ä»¥ä¸‹å†…å®¹åŒ…æ‹¬ï¼š" class="headerlink" title="ä»¥ä¸‹å†…å®¹åŒ…æ‹¬ï¼š"></a>ä»¥ä¸‹å†…å®¹åŒ…æ‹¬ï¼š</h6><ul><li>React-Native WebView API å±æ€§ä»‹ç»</li><li>webview å®ç°ä¸RNä»£ç ç®€å•äº¤äº’</li><li>åœ¨AndroidåŸç”Ÿä»£ç ä¸­å¯¹ReactNative WebViewæ§ä»¶è¿›è¡Œåˆå§‹è®¾ç½®</li></ul><h4 id="React-Native-WebView"><a href="#React-Native-WebView" class="headerlink" title="React-Native WebView"></a>React-Native WebView</h4><p>é¦–å…ˆç»“åˆReact-Native é«˜ç‰ˆæœ¬ä¸ä½ç‰ˆæœ¬ï¼ˆ0.41.2 ä¸ 0.25.1ï¼‰åˆ†æå…¶RNæºç ï¼ˆåå‘äºAndroidæ–¹å‘ï¼‰åŠapi</p><h4 id="WebView"><a href="#WebView" class="headerlink" title="WebView"></a>WebView</h4><p>WebView ä½œä¸ºä¸€ä¸ªRNç»„ä»¶ä¹Ÿæ˜¯æœ‰å…¶ç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼Œç¿»å¼€æºç ï¼ŒæŸ¥çœ‹å…¶renderæ–¹æ³•ï¼Œå…¶returnè¿”å›å€¼å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">return (</span><br><span class="line">   &lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">     &#123;webView&#125;</span><br><span class="line">     &#123;otherView&#125;</span><br><span class="line">   &lt;/View&gt;</span><br><span class="line"> );</span><br></pre></td></tr></table></figure><p>ä»æ­¤å¤„å¯ä»¥çœ‹å‡ºï¼ŒWebViewåªæ˜¯ä¸€å±‚å£³ï¼Œå…¶åŒ…æ‹¬äº†ä¸¤å±‚è¦†ç›–çš„Viewï¼Œå…¶ä¸­{webView}ä¸ºRCTWebViewç»„ä»¶ï¼Œæ˜ å°„åŸç”ŸRCTWebViewç»„ä»¶ï¼Œæ˜¯çœŸæ­£åŠ è½½webé¡µé¢çš„ç»„ä»¶ï¼Œ{otherView}åˆ†æå…¶æ„é€ å¯ä»¥å‘ç°å®ƒä¸»è¦ç”¨æ¥æ¸²æŸ“åŠ è½½å¤±è´¥è§†å›¾åŠåŠ è½½ä¸­çš„æç¤ºè§†å›¾ã€‚</p><h5 id="webView"><a href="#webView" class="headerlink" title="{webView}"></a>{webView}</h5><p>renderä¸­å®šä¹‰webViewå˜é‡çš„ä»£ç å¦‚ä¸‹(é«˜ç‰ˆæœ¬ä½ç‰ˆæœ¬éƒ¨åˆ†å±æ€§æœ‰æ‰€å‡ºå…¥)ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">var webView =</span><br><span class="line">  &lt;RCTWebView</span><br><span class="line">    ref=&#123;RCT_WEBVIEW_REF&#125;</span><br><span class="line">    key=&quot;webViewKey&quot;</span><br><span class="line">    style=&#123;webViewStyles&#125;</span><br><span class="line">    source=&#123;resolveAssetSource(source)&#125;</span><br><span class="line">    scalesPageToFit=&#123;this.props.scalesPageToFit&#125;</span><br><span class="line">    injectedJavaScript=&#123;this.props.injectedJavaScript&#125;</span><br><span class="line">    userAgent=&#123;this.props.userAgent&#125;</span><br><span class="line">    javaScriptEnabled=&#123;this.props.javaScriptEnabled&#125;</span><br><span class="line">    domStorageEnabled=&#123;this.props.domStorageEnabled&#125;</span><br><span class="line">    messagingEnabled=&#123;typeof this.props.onMessage === &apos;function&apos;&#125;</span><br><span class="line">    onMessage=&#123;this.onMessage&#125;</span><br><span class="line">    contentInset=&#123;this.props.contentInset&#125;</span><br><span class="line">    automaticallyAdjustContentInsets=&#123;this.props.automaticallyAdjustContentInsets&#125;</span><br><span class="line">    onContentSizeChange=&#123;this.props.onContentSizeChange&#125;</span><br><span class="line">    onLoadingStart=&#123;this.onLoadingStart&#125;</span><br><span class="line">    onLoadingFinish=&#123;this.onLoadingFinish&#125;</span><br><span class="line">    onLoadingError=&#123;this.onLoadingError&#125;</span><br><span class="line">    testID=&#123;this.props.testID&#125;</span><br><span class="line">    mediaPlaybackRequiresUserAction=&#123;this.props.mediaPlaybackRequiresUserAction&#125;</span><br><span class="line">    allowUniversalAccessFromFileURLs=&#123;this.props.allowUniversalAccessFromFileURLs&#125;</span><br><span class="line">  /&gt;;</span><br></pre></td></tr></table></figure><p><rctwebview> æ‰€è®¾ç½®çš„å±æ€§åœ¨webView Apiå‡ ä¹éƒ½æœ‰ä»‹ç»ï¼Œä½†éƒ¨åˆ†å±æ€§å´æ²¡æœ‰è¯´æ˜ï¼Œå¤§æ¦‚åˆ†æä¸‹ï¼š</rctwebview></p><ul><li>scalesPageToFit bool </li></ul><p>å…¶å¯¹åº”Androidç«¯æ¡¥æ¥æ–¹æ³•ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ReactProp(name = &quot;scalesPageToFit&quot;)</span><br><span class="line"> public void setScalesPageToFit(WebView view, boolean enabled) &#123;</span><br><span class="line">   view.getSettings().setUseWideViewPort(!enabled);//androidåŸç”ŸWebViewè®¾ç½®æ­¤å±æ€§,å¯ä»»æ„æ¯”ä¾‹ç¼©æ”¾</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>ç”±æ­¤å¯çŸ¥ï¼Œè®¾ç½®æ˜¯å¦è¦æŠŠç½‘é¡µç¼©æ”¾åˆ°é€‚åº”è§†å›¾çš„å¤§å°ï¼Œä»¥åŠæ˜¯å¦å…è®¸ç”¨æˆ·æ”¹å˜ç¼©æ”¾æ¯”ä¾‹ã€‚RNå®ç°ä¸­å…¶å€¼é»˜è®¤è®¾ç½®ä¸ºtrueã€‚</p><ul><li>injectedJavaScript</li></ul><p>è®¾ç½®åœ¨ç½‘é¡µåŠ è½½ä¹‹å‰æ³¨å…¥çš„ä¸€æ®µJSä»£ç ã€‚</p><ul><li>userAgent</li></ul><p>å…¶å¯¹åº”Androidç«¯æ¡¥æ¥æ–¹æ³•ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@ReactProp(name = &quot;userAgent&quot;)</span><br><span class="line">public void setUserAgent(WebView view, @Nullable String userAgent) &#123;</span><br><span class="line">  if (userAgent != null) &#123;</span><br><span class="line">    // TODO(8496850): Fix incorrect behavior when property is unset (uA == null)</span><br><span class="line">    view.getSettings().setUserAgentString(userAgent);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>RNæºç æ³¨é‡Šï¼š</p><blockquote><p>Sets the user-agent for this WebView. The user-agent can also be set in native using WebViewConfig. This prop will overwrite that config.</p></blockquote><p>ç»¼åˆä¸Šé¢ä¿¡æ¯ï¼Œå¯çŸ¥è¯¥å±æ€§ä¸ºè®¾ç½®æµè§ˆå™¨æ ‡è¯†ï¼Œä¹Ÿå¯é€šè¿‡åŸç”Ÿæ¥å£WebViewConfigå®ç°å®šåˆ¶WebView,ä¸‹é¢ä¼šç¨ä½œè¯¦ç»†ä»‹ç»å¦‚ä½•ä½¿ç”¨WebViewConfigã€‚</p><ul><li>domStorageEnabled</li></ul><p>å…¶å¯¹åº”Androidç«¯æ¡¥æ¥æ–¹æ³•ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">@ReactProp(name = &quot;domStorageEnabled&quot;)</span><br><span class="line">public void setDomStorageEnabled(WebView view, boolean enabled) &#123;</span><br><span class="line">  view.getSettings().setDomStorageEnabled(enabled);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯¥å±æ€§å®šä¹‰æŒ‡å®šæ˜¯å¦å¼€å¯DOMæœ¬åœ°å­˜å‚¨ã€‚ï¼ˆä»…é™Androidå¹³å°ï¼‰ï¼Œå…·ä½“å¯å‚è€ƒï¼š<br><a href="http://blog.csdn.net/a345017062/article/details/8703221" target="_blank" rel="noopener">http://blog.csdn.net/a345017062/article/details/8703221</a></p><ul><li>messagingEnabled bool</li><li>onMessage</li></ul><p>è¿™ä¸¤ä¸ªå±æ€§æ”¯æŒé«˜ç‰ˆæœ¬ReactNative Api ä½ç‰ˆæœ¬æ— æ­¤å±æ€§ã€‚<br>messagingEnabledå‚æ•°æ§åˆ¶onMessageå‡½æ•°æ˜¯å¦æœ‰æ•ˆï¼Œå¦‚æœä¸ä¸»åŠ¨è®¾ç½®ï¼Œåˆ™è¯¥å€¼ä¸ºonMessageå‡½æ•°æ˜¯å¦å®šä¹‰çš„ç»“æœä¸ºå€¼ã€‚</p><p>onMessageä¸ºfunctionç±»å‹ï¼Œå®˜æ–¹apiè§£é‡Šä¸º:</p><blockquote><p>åœ¨webviewå†…éƒ¨çš„ç½‘é¡µä¸­è°ƒç”¨window.postMessageæ–¹æ³•æ—¶å¯ä»¥è§¦å‘æ­¤å±æ€§å¯¹åº”çš„å‡½æ•°ï¼Œä»è€Œå®ç°ç½‘é¡µå’ŒRNä¹‹é—´çš„æ•°æ®äº¤æ¢ã€‚ è®¾ç½®æ­¤å±æ€§çš„åŒæ—¶ä¼šåœ¨webviewä¸­æ³¨å…¥ä¸€ä¸ªpostMessageçš„å…¨å±€å‡½æ•°å¹¶è¦†ç›–å¯èƒ½å·²ç»å­˜åœ¨çš„åŒåå®ç°ã€‚ç½‘é¡µç«¯çš„window.postMessageåªå‘é€ä¸€ä¸ªå‚æ•°dataï¼Œæ­¤å‚æ•°å°è£…åœ¨RNç«¯çš„eventå¯¹è±¡ä¸­ï¼Œå³event.nativeEvent.dataã€‚data åªèƒ½æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p></blockquote><p>AndroidåŸç”Ÿä¸­å®ç°ä¸º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">  @ReactProp(name = &quot;messagingEnabled&quot;)</span><br><span class="line">  public void setMessagingEnabled(WebView view, boolean enabled) &#123;</span><br><span class="line">    ((ReactWebView) view).setMessagingEnabled(enabled);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">public void setMessagingEnabled(boolean enabled) &#123;</span><br><span class="line">  if (messagingEnabled == enabled) &#123;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  messagingEnabled = enabled;</span><br><span class="line">  if (enabled) &#123;</span><br><span class="line">    addJavascriptInterface(new ReactWebViewBridge(this), BRIDGE_NAME);</span><br><span class="line">    linkBridge();</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    removeJavascriptInterface(BRIDGE_NAME);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void linkBridge() &#123;</span><br><span class="line">  if (messagingEnabled) &#123;</span><br><span class="line">    if (ReactBuildConfig.DEBUG &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) &#123;</span><br><span class="line">      // See isNative in lodash</span><br><span class="line">      String testPostMessageNative = &quot;String(window.postMessage) === String(Object.hasOwnProperty).replace(&apos;hasOwnProperty&apos;, &apos;postMessage&apos;)&quot;;</span><br><span class="line">      evaluateJavascript(testPostMessageNative, new ValueCallback&lt;String&gt;() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onReceiveValue(String value) &#123;</span><br><span class="line">          if (value.equals(&quot;true&quot;)) &#123;</span><br><span class="line">            FLog.w(ReactConstants.TAG, &quot;Setting onMessage on a WebView overrides existing values of window.postMessage, but a previous value was defined&quot;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    loadUrl(&quot;javascript:(&quot; +</span><br><span class="line">      &quot;window.originalPostMessage = window.postMessage,&quot; +</span><br><span class="line">      &quot;window.postMessage = function(data) &#123;&quot; +</span><br><span class="line">        BRIDGE_NAME + &quot;.postMessage(String(data));&quot; +</span><br><span class="line">      &quot;&#125;&quot; +</span><br><span class="line">    &quot;)&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸç”Ÿä¸­å®ç°æ˜¯è°ƒç”¨webViewçš„loadUrl()ï¼Œæ‰§è¡Œä¸€æ®µjsä»£ç ï¼Œå®ç°ä»£ç çš„æ³¨å…¥ã€‚</p><p>å®šä¹‰è¯¥å‡½æ•°ï¼Œå³å¯å®ç°ç½‘é¡µç«¯ä¸RNä»£ç ä¹‹é—´çš„æ•°æ®äº¤äº’ï¼Œä¸‹é¢è¯¦ç»†ä»‹ç»ã€‚</p><ul><li>onContentSizeChange func</li></ul><p>è¯¥å‡½æ•°åœ¨Rn apiä¸Šå¹¶æœªæåŠï¼Œä¸”åœ¨ä½ç‰ˆæœ¬rnä¸Šå¹¶æ²¡æœ‰<br>å…¶å¯¹åº”Androidç«¯æ¡¥æ¥æ–¹æ³•ä¸ºï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">@ReactProp(name = &quot;onContentSizeChange&quot;)</span><br><span class="line">public void setOnContentSizeChange(WebView view, boolean sendContentSizeChangeEvents) &#123;</span><br><span class="line">  if (sendContentSizeChangeEvents) &#123;</span><br><span class="line">    view.setPictureListener(getPictureListener());</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    view.setPictureListener(null);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“åˆAndroid Apiå¯çŸ¥ï¼Œè¯¥å‡½æ•°ç”¨é€”ä¸ºå®šä¹‰ç½‘é¡µä¸­å›¾ç‰‡åŠ è½½å®Œæ¯•çš„çŠ¶æ€å›è°ƒã€‚<br>è¿™ä¸ªæ–¹æ³•å·²ç»è¢«Androidæ ‡ä¸ºå¼ƒç”¨,è¿™ä¸ªå¯¹åº”çš„pictureå¹¶ä¸åŒ…å«å¤åˆå±‚æˆ–å¯ä»¥æ»šåŠ¨çš„Div,åªèƒ½è¢«ä½¿ç”¨æ¥ä¾¦æµ‹WebViewå†…å®¹çš„å˜åŒ–.åœ¨ä»¥åçš„ç‰ˆæœ¬ä¼šæä¾›ä»–çš„æ›¿ä»£äº‹ä»¶,æ‰€ä»¥è¯¥å±æ€§å¯ä¸ç”¨ã€‚</p><p>å…¶ä»–å±æ€§å¯å‚çœ‹RNæºç è§£é‡Šä¸å®˜æ–¹Apiã€‚</p><h5 id="otherView"><a href="#otherView" class="headerlink" title="{otherView}"></a>{otherView}</h5><p>åœ¨renderä¸­ï¼ŒotherViewæ˜¯è¿™ä¹ˆèµ‹å€¼çš„ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> var otherView = null;</span><br><span class="line"></span><br><span class="line">if (this.state.viewState === WebViewState.LOADING) &#123;</span><br><span class="line">   otherView = (this.props.renderLoading || defaultRenderLoading)();</span><br><span class="line"> &#125; else if (this.state.viewState === WebViewState.ERROR) &#123;</span><br><span class="line">   var errorEvent = this.state.lastErrorEvent;</span><br><span class="line">   otherView = this.props.renderError &amp;&amp; this.props.renderError(</span><br><span class="line">     errorEvent.domain,</span><br><span class="line">     errorEvent.code,</span><br><span class="line">     errorEvent.description);</span><br><span class="line"> &#125; else if (this.state.viewState !== WebViewState.IDLE) &#123;</span><br><span class="line">   console.error(&apos;RCTWebView invalid state encountered: &apos; + this.state.loading);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>å¯ç›´è§‚çœ‹å‡ºï¼ŒotherViewæ ¹æ®WebViewä¸åŒçŠ¶æ€ç»˜åˆ¶æç¤ºé¡µçš„ã€‚</p><ul><li>renderLoading func</li></ul><p>ç»˜åˆ¶åŠ è½½ä¸­æç¤ºé¡µ</p><ul><li>renderError func</li></ul><p>ç»˜åˆ¶åŠ è½½é”™è¯¯æç¤ºé¡µ</p><h5 id="å…¶ä»–å±æ€§"><a href="#å…¶ä»–å±æ€§" class="headerlink" title="å…¶ä»–å±æ€§"></a>å…¶ä»–å±æ€§</h5><ul><li>onNavigationStateChange func</li></ul><p>æºç æ³¨é‡Šå¦‚ä¸‹:</p><blockquote><p> We return an event with a bunch of fields including:<br>   url, title, loading, canGoBack, canGoForward</p></blockquote><p>å…·ä½“ä¸ºé‡å†™è¯¥å‡½æ•°å¯åœ¨webViewçŠ¶æ€å‘ç”Ÿæ”¹å˜çš„æ—¶å€™å›è°ƒwebViewçš„eventä¿¡æ¯,eventä¿¡æ¯é‡ŒåŒ…å«äº†url, title, loading, canGoBack, canGoForward.</p><ul><li>startInLoadingState bool</li></ul><p>æºç ä¸­çš„æ³¨é‡Šï¼š</p><blockquote><p>force WebView to show loadingView on first load</p></blockquote><p>å…·ä½“ä¸ºè®¾ç½®ç¬¬ä¸€æ¬¡åŠ è½½æ•°æ®æ—¶æ˜¯å¦æ˜¾ç¤ºloadingçŠ¶æ€è§†å›¾ï¼Œé»˜è®¤å€¼ä¸ºtrue.</p><h4 id="webview-å®ç°ä¸RNä»£ç ç®€å•äº¤äº’"><a href="#webview-å®ç°ä¸RNä»£ç ç®€å•äº¤äº’" class="headerlink" title="webview å®ç°ä¸RNä»£ç ç®€å•äº¤äº’"></a>webview å®ç°ä¸RNä»£ç ç®€å•äº¤äº’</h4><p>ä¸ç®¡å®‰å“è¿˜æ˜¯ios App,å½“å†…åµŒwebViewåŠ è½½ç½‘é¡µæ—¶ï¼Œå¤šå°‘éƒ½ä¼šæœ‰æ¶‰åŠç½‘é¡µç«¯ä»£ç ä¸åŸç”Ÿä»£ç ä¹‹é—´çš„äº¤äº’ã€‚</p><p>æ¯”å¦‚å¯¹åŸç”Ÿä»£ç è¿”å›é”®çš„ç›‘å¬ï¼Œæ¥å®ç°å¯¹å½“ç½‘é¡µå¯è¿”å›æ—¶ç‚¹å‡»appè¿”å›é”®ä¸å…³é—­ç½‘é¡µï¼Œè€Œæ˜¯æ‰“å¼€å‰ä¸€ä¸ªç½‘é¡µï¼Œå½“æ²¡æœ‰å‰ä¸€ä¸ªç½‘é¡µæ—¶ï¼Œå…³é—­å½“å‰webViewé¡µé¢ï¼Œè¿”å›Appä¸Šä¸ªé¡µé¢ã€‚</p><p>è¿™é‡Œæ¶‰åŠäº†appç«¯ä¸åŸç”Ÿä»£ç ä¹‹é—´çš„ç®€å•äº¤äº’,ä¸‹é¢æ¥è¯´è¯´æˆ‘æ˜¯æ€ä¹ˆç®€å•åœ¨é«˜ç‰ˆæœ¬ï¼Œä½ç‰ˆæœ¬ä¸Šå®ç°çš„ã€‚</p><h6 id="ä½¿ç”¨é«˜ä½ç‰ˆæœ¬éƒ½æœ‰çš„å±æ€§æ–¹æ³•â€“onNavigationStateChange"><a href="#ä½¿ç”¨é«˜ä½ç‰ˆæœ¬éƒ½æœ‰çš„å±æ€§æ–¹æ³•â€“onNavigationStateChange" class="headerlink" title="ä½¿ç”¨é«˜ä½ç‰ˆæœ¬éƒ½æœ‰çš„å±æ€§æ–¹æ³•â€“onNavigationStateChange"></a>ä½¿ç”¨é«˜ä½ç‰ˆæœ¬éƒ½æœ‰çš„å±æ€§æ–¹æ³•â€“onNavigationStateChange</h6><p>è¿™ä¸ªå‡½æ•°ä¸Šé¢ä»‹ç»è¿‡ï¼Œé‡å†™è¯¥å›è°ƒæ—¶ä¼šä¼ å…¥ä¸€ä¸ªeventå‚æ•°ï¼Œeventå°è£…äº†url, title, loading, canGoBack, canGoForwardäº”ä¸ªæ–¹æ³•ã€‚ä¸”æ¯æ¬¡webViewçŠ¶æ€æ”¹å˜æ—¶ä¼šå›è°ƒè¯¥å‡½æ•°ï¼Œå¾ˆç®€å•ï¼Œé€šè¿‡urlæ¥åˆ¤æ–­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">onNavigationStateChange=&#123;<span class="keyword">this</span>.onNavigationStateChange&#125;<span class="comment">//åœ¨WebViewä¸­æ³¨å†Œè¯¥å›è°ƒæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">onNavigationStateChange(event)&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'onNavigationStateChange:'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(event); <span class="comment">//æ‰“å°å‡ºeventä¸­å±æ€§</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>eventçš„æ‰“å°ç»“æœå¦‚ä¸‹å›¾ï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1948083-2fb41e3502b87af3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="eventå¯¹è±¡å±æ€§"></p><p>è¿™é‡Œä¾¿å¯ç›´è§‚çš„è·å–åˆ°WebViewçš„é‡è¦çŠ¶æ€å±æ€§ï¼Œurlä¸ºç‚¹å‡»html<a>æ ‡ç­¾è§¦å‘çš„è¶…é“¾æ¥ï¼Œè¿™é‡Œè‡ªå®šä¹‰æˆappèƒ½åˆ¤æ–­çš„åè®®é“¾æ¥ï¼Œå³å¯å®ç°ç®€å•äº¤äº’ï¼Œä¸¾ä¾‹ç‚¹å‡»ç½‘é¡µæŒ‰é’®é€€å‡ºwebViewï¼Œå³å¯ç”¨è¯¥æ–¹æ³•å®ç°ã€‚<br>å…¶ä»–å€¼å¦‚canGoBack,canGoForword,titleï¼Œè§åä¹‹æ„ã€‚<br>ä½†æœ‰ä¸ªå±æ€§targetæœ‰äº›ç–‘æƒ‘ï¼Œå’±æ‰“å¼€androidæºç çœ‹çœ‹ï¼š</a></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> WritableMap <span class="title">createWebViewEvent</span><span class="params">(WebView webView, String url)</span> </span>&#123;</span><br><span class="line">  WritableMap event = Arguments.createMap();</span><br><span class="line">  event.putDouble(<span class="string">"target"</span>, webView.getId());</span><br><span class="line">  <span class="comment">// Don't use webView.getUrl() here, the URL isn't updated to the new value yet in callbacks</span></span><br><span class="line">  <span class="comment">// like onPageFinished</span></span><br><span class="line">  event.putString(<span class="string">"url"</span>, url);</span><br><span class="line">  event.putBoolean(<span class="string">"loading"</span>, !mLastLoadFailed &amp;&amp; webView.getProgress() != <span class="number">100</span>);</span><br><span class="line">  event.putString(<span class="string">"title"</span>, webView.getTitle());</span><br><span class="line">  event.putBoolean(<span class="string">"canGoBack"</span>, webView.canGoBack());</span><br><span class="line">  event.putBoolean(<span class="string">"canGoForward"</span>, webView.canGoForward());</span><br><span class="line">  <span class="keyword">return</span> event;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>targetä¹Ÿå°±æ˜¯åŸç”ŸWebViewçš„getId()è¿”å›å€¼ï¼Œä¹Ÿå°±æ˜¯androidä¸­å¸ƒå±€æ–‡ä»¶é‡Œçš„idå€¼ï¼Œè¿™é‡Œç®—æ˜¯å”¯ä¸€æ ‡è¯†å§åº”è¯¥ã€‚</p><h6 id="ä½¿ç”¨é«˜ç‰ˆæœ¬çš„å±æ€§æ–¹æ³•â€“onMessage-event"><a href="#ä½¿ç”¨é«˜ç‰ˆæœ¬çš„å±æ€§æ–¹æ³•â€“onMessage-event" class="headerlink" title="ä½¿ç”¨é«˜ç‰ˆæœ¬çš„å±æ€§æ–¹æ³•â€“onMessage(event)"></a>ä½¿ç”¨é«˜ç‰ˆæœ¬çš„å±æ€§æ–¹æ³•â€“onMessage(event)</h6><p>è¿™ä¸ªå‡½æ•°åœ¨RNå®˜æ–¹APIä¸­æœ‰ä»‹ç»ï¼Œä¸“é—¨ç”¨æ¥è¿›è¡Œç½‘é¡µç«¯ä¸RNç«¯çš„é€šä¿¡ï¼Œè¿™é‡Œæ¥å®ç°ä¸‹ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">onMessage=&#123;<span class="keyword">this</span>.onMessage&#125;</span><br><span class="line">  onMessage(event)&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'onMessage-&gt;event.nativeEvent.data:'</span>);</span><br><span class="line">      <span class="built_in">console</span>.log(event.nativeEvent.data);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åœ¨htmlä»£ç ä¸­é€šè¿‡ç‚¹å‡»æ–¹å¼å‘é€data:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">language</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="string">'#btn_msg1'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.postMessage(<span class="string">'ç½‘é¡µç«¯ç‚¹å‡»äº†æŒ‰é’®å•¦ã€‚ã€‚ã€‚'</span>)</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœï¼š</p><p><img src="http://upload-images.jianshu.io/upload_images/1948083-b60f3c9be5dc4eb4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="onMessage"></p><h6 id="WebView-Javascript-Bridge"><a href="#WebView-Javascript-Bridge" class="headerlink" title="WebView Javascript Bridge"></a>WebView Javascript Bridge</h6><p>è¯¥ä¸‰æ–¹åº“å…¼å®¹ä½ç‰ˆæœ¬å®ç°ç½‘é¡µç«¯å‘é€message,å¹¶å¯å®ç°rnå‘htmlä»£ç äº¤äº’ã€‚<br>å‚çœ‹ï¼š<a href="https://github.com/alinz/react-native-webview-bridge" target="_blank" rel="noopener">https://github.com/alinz/react-native-webview-bridge</a><br>å®ç°èµ·æ¥ï¼Œç¨å¾®å¤æ‚äº›ï¼Œå®‰å“IOSç«¯éƒ½éœ€å¼•å…¥ä¾èµ–ã€‚<br>å…¶é€šè¿‡æ³¨å…¥jsçš„æ–¹å¼ï¼Œåœ¨htmlä¸­æ³¨å…¥ WebViewBridge.onMessageå‡½æ•°ï¼Œå®ç°äº†htmlä¸RNä¹‹é—´çš„åŒå‘äº¤äº’ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œå…·ä½“çœ‹å…¶apiã€‚</p><h4 id="åœ¨AndroidåŸç”Ÿä»£ç ä¸­å¯¹ReactNative-WebViewæ§ä»¶è¿›è¡Œåˆå§‹è®¾ç½®"><a href="#åœ¨AndroidåŸç”Ÿä»£ç ä¸­å¯¹ReactNative-WebViewæ§ä»¶è¿›è¡Œåˆå§‹è®¾ç½®" class="headerlink" title="åœ¨AndroidåŸç”Ÿä»£ç ä¸­å¯¹ReactNative WebViewæ§ä»¶è¿›è¡Œåˆå§‹è®¾ç½®"></a>åœ¨AndroidåŸç”Ÿä»£ç ä¸­å¯¹ReactNative WebViewæ§ä»¶è¿›è¡Œåˆå§‹è®¾ç½®</h4><p>ç¿»å¼€Androidç«¯æ¡¥æ¥WebViewçš„æºç ReactWebViewManagerï¼Œå‘ç°å…¶æœ‰ä¸¤ä¸ªæ„é€ å‚æ•°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ReactWebViewManager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    mWebViewConfig = <span class="keyword">new</span> WebViewConfig() &#123;</span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configWebView</span><span class="params">(WebView webView)</span> </span>&#123;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">ReactWebViewManager</span><span class="params">(WebViewConfig webViewConfig)</span> </span>&#123;</span><br><span class="line">    mWebViewConfig = webViewConfig;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">protected</span> WebView <span class="title">createViewInstance</span><span class="params">(ThemedReactContext reactContext)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    mWebViewConfig.configWebView(webView);</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="keyword">return</span> webView;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>å†æ‰“å¼€WebViewConfigæ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">WebViewConfig</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">configWebView</span><span class="params">(WebView webView)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºï¼Œå…¶å®å’±å¯ä»¥ä¼ å…¥ä¸ªWebViewConfigå®ä¾‹,é€šè¿‡webView.getSettings()å¯¹WebViewè¿›è¡ŒSettingï¼Œä¸‹é¢ç®€å•å®ç°ä¸‹ã€‚<br>ç”±äºMainReactPackage.javaé‡Œå·²ç»å°†ReactWebViewManagerè¿›è¡Œæ— å‚å®ä¾‹åŒ–ï¼Œå¹¶åŠ å…¥é›†åˆé€šè¿‡createViewManagers()è¿”å›ã€‚æ‰€ä»¥æˆ‘è§‰å¾—å¯é€šè¿‡ç»§æ‰¿çš„æ–¹å¼é‡å†™createViewManagers()è¿”å›å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CusMainReactPackage</span> <span class="keyword">extends</span> <span class="title">MainReactPackage</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> WebViewConfig webViewConfig = <span class="keyword">new</span> WebViewConfig() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configWebView</span><span class="params">(WebView webView)</span> </span>&#123;</span><br><span class="line">            WebSettings settings = webView.getSettings();</span><br><span class="line">            <span class="comment">//do settings...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;ViewManager&gt; <span class="title">createViewManagers</span><span class="params">(ReactApplicationContext reactContext)</span> </span>&#123;</span><br><span class="line">        List&lt;ViewManager&gt; viewManagers = handleRepleaceRTCWebView(<span class="keyword">super</span>.createViewManagers(reactContext));</span><br><span class="line">        <span class="keyword">return</span> viewManagers;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ›¿æ¢viewManagerä¸­é»˜è®¤çš„RCTWebViewManager</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;ViewManager&gt; <span class="title">handleRepleaceRTCWebView</span><span class="params">(List&lt;ViewManager&gt; viewManagers)</span> </span>&#123;</span><br><span class="line">        List&lt;ViewManager&gt; _viewManagers = <span class="keyword">new</span> ArrayList&lt;&gt;(viewManagers);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; _viewManagers.size(); i++)</span><br><span class="line">            <span class="keyword">if</span> (_viewManagers.get(i).getName().equals(<span class="string">"RCTWebView"</span>)) &#123;</span><br><span class="line">                _viewManagers.set(i, <span class="keyword">new</span> ReactWebViewManager(webViewConfig));</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">return</span> _viewManagers;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹åè¿›è¡Œç›¸åº”è°ƒç”¨ä¿®æ”¹å³å¯ã€‚</p><h4 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h4><p>ä»¥ä¸Šéƒ½æ˜¯ç»“åˆReactNative Andoridç«¯å¯¹WebViewç»„ä»¶è¿›è¡Œå­¦ä¹ ç ”ç©¶çš„æ€»ç»“ï¼Œç”±äºå¯¹RNæ¥è§¦ä¸ä¹…ï¼Œæ‰€ä»¥è‚¯å®šæœ‰äº›ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼Œæœ›æŒ‡æ­£å»ºè®®ï¼Œè°¢è°¢ï¼</p><h4 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h4><ul><li><a href="http://reactnative.cn/docs/0.42/webview.html" target="_blank" rel="noopener">http://reactnative.cn/docs/0.42/webview.html</a></li><li><a href="http://facebook.github.io/react-native/releases/0.25/docs/webview.html#webview" target="_blank" rel="noopener">http://facebook.github.io/react-native/releases/0.25/docs/webview.html#webview</a></li><li><a href="https://github.com/alinz/react-native-webview-bridge" target="_blank" rel="noopener">https://github.com/alinz/react-native-webview-bridge</a></li><li><a href="http://blog.csdn.net/codetomylaw/article/details/52490378" target="_blank" rel="noopener">http://blog.csdn.net/codetomylaw/article/details/52490378</a></li><li><a href="https://developer.android.com/reference/android/webkit/WebView.html" target="_blank" rel="noopener">https://developer.android.com/reference/android/webkit/WebView.html</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;åŸºäºReact-Native0.41åŠ0.25ä¸¤ä¸ªç‰ˆæœ¬æ¥åˆ†æ&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://zhujm.top/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="Android" scheme="http://zhujm.top/tags/Android/"/>
    
      <category term="ReactNative" scheme="http://zhujm.top/tags/ReactNative/"/>
    
  </entry>
  
  <entry>
    <title>JSç®­å¤´å‡½æ•°ä¸ä¼ ç»ŸJavaScriptå‡½æ•°ä½¿ç”¨</title>
    <link href="http://zhujm.top/2017/09/11/201908151303/"/>
    <id>http://zhujm.top/2017/09/11/201908151303/</id>
    <published>2017-09-11T05:01:58.000Z</published>
    <updated>2019-08-15T05:07:41.791Z</updated>
    
    <content type="html"><![CDATA[<h5 id="ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š"><a href="#ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š" class="headerlink" title="ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š"></a>ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š</h5><ul><li>å¯¹thisçš„å…³è”ã€‚ç®­å¤´å‡½æ•°å†…ç½®çš„thisçš„å€¼ï¼Œå–å†³äºç®­å¤´å‡½æ•°åœ¨å“ªå®šä¹‰ï¼Œè€Œéç®­å¤´å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</li><li>newä¸å¯ç”¨ã€‚ç®­å¤´å‡½æ•°å†…ä¸èƒ½ä½¿ç”¨newå…³é”®å­—æ¥å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦åˆ™æŠ¥é”™ã€‚</li><li>æ²¡æœ‰argumentså¯¹è±¡ã€‚ä¸èƒ½é€šè¿‡argumentså¯¹è±¡è®¿é—®ä¼ å…¥å‚æ•°ï¼Œåªèƒ½ä½¿ç”¨æ˜¾å¼å‘½åæˆ–å…¶ä»–ES6æ–°ç‰¹æ€§æ¥å®Œæˆã€‚</li><li>thisä¸å¯å˜ã€‚å‡½æ•°å†…ç½®çš„thisä¸å¯å˜ï¼Œåœ¨å‡½æ•°ä½“å†…æ•´ä¸ªæ‰§è¡Œç¯å¢ƒä¸­æœªå¸¸é‡ã€‚</li></ul><p>æœ‰è¿™äº›è¿™äº›å·®å¼‚çš„åŸå› ï¼šå¯¹thisçš„ç»‘å®šæ˜¯JavaScripté”™è¯¯çš„å¸¸è§æ¥æºä¹‹ä¸€ã€‚å®¹æ˜“ä¸¢å¤±å‡½æ•°å†…ç½®æ•°å€¼ï¼Œæˆ–å¾—å‡ºæ„å¤–ç»“æœã€‚å…¶æ¬¡ï¼Œå°†ç®­å¤´å‡½æ•°é™åˆ¶ä¸ºä½¿ç”¨å›ºå®šthiså¼•ç”¨ï¼Œæœ‰åˆ©äºJavaScriptå¼•æ“ä¼˜åŒ–å¤„ç†ã€‚</p><a id="more"></a><h5 id="å¸¸è§ä½¿ç”¨ï¼š"><a href="#å¸¸è§ä½¿ç”¨ï¼š" class="headerlink" title="å¸¸è§ä½¿ç”¨ï¼š"></a>å¸¸è§ä½¿ç”¨ï¼š</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç®­å¤´å‡½æ•°è¿”å›å•ä¸ªå€¼ï¼ˆå½“å…¥å‚æ˜¯ä¸€ä¸ªä¸éœ€è¦åŠ ï¼ˆï¼‰ï¼‰</span></span><br><span class="line"><span class="keyword">var</span> getItem=<span class="function"><span class="params">key</span>=&gt;</span>value;</span><br><span class="line"><span class="comment">//è¿”å›è¿ç®—è¡¨è¾¾å¼ç»“æœ</span></span><br><span class="line"><span class="keyword">var</span> sum=<span class="function">(<span class="params">n1,n2</span>)=&gt;</span>n1+n2;</span><br><span class="line"><span class="comment">//è¿”å›è¿ç®—è¡¨è¾¾å¼ç»“æœ</span></span><br><span class="line"><span class="keyword">var</span> sum2=<span class="function"><span class="params">()</span>=&gt;</span><span class="number">1</span>+<span class="number">1</span>;</span><br><span class="line"><span class="comment">//å¤§æ‹¬å·å‡½æ•°ä½“</span></span><br><span class="line"><span class="keyword">var</span> sum3=<span class="function">(<span class="params">n1,n2</span>)=&gt;</span>&#123;<span class="keyword">return</span> n1+n2;&#125;</span><br><span class="line"><span class="comment">//ç®­å¤´å‡½æ•°è¿”å›å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> getItem2=<span class="function"><span class="params">key</span>=&gt;</span>(&#123;</span><br><span class="line">    id:key,</span><br><span class="line">    name:<span class="string">'jm'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="ä½¿ç”¨æ™®é€šçš„functionå£°æ˜å‡½æ•°ï¼š"><a href="#ä½¿ç”¨æ™®é€šçš„functionå£°æ˜å‡½æ•°ï¼š" class="headerlink" title="ä½¿ç”¨æ™®é€šçš„functionå£°æ˜å‡½æ•°ï¼š"></a>ä½¿ç”¨æ™®é€šçš„functionå£°æ˜å‡½æ•°ï¼š</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Comp = &#123;</span><br><span class="line">   id=<span class="string">'123'</span> ,</span><br><span class="line">   init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.doSomething(event.type); <span class="comment">// error</span></span><br><span class="line">        &#125;, <span class="literal">false</span>);</span><br><span class="line">   &#125;,</span><br><span class="line">   doSomething:<span class="function"><span class="keyword">function</span>(<span class="params">type</span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">"Handling "</span> + type + <span class="string">" for "</span> + <span class="keyword">this</span>.id);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œå› ä¸ºå‡½æ•°å†…éƒ¨thiså…³è”é—®é¢˜ï¼Œthisä¼šæ ¹æ®å½“å‰å‡½æ•°æ‰§è¡Œç¯å¢ƒå»å–å€¼ï¼Œæ‰€ä»¥this.doSomething(event.type); è¿™é‡Œçš„thisä¼šæŒ‡å‘å…¨å±€å¯¹è±¡ï¼Œå…¨å±€å¯¹è±¡æ²¡æœ‰doSomethingæ–¹æ³•ï¼Œå°±undefindeäº†ã€‚</p><p>è§£å†³ï¼š<br>è¿™é‡Œåœ¨å‡½æ•°ä¸­ä½¿ç”¨bind()å°†thisä¸Compæ˜ç¡®å…³è”èµ·æ¥ï¼Œç›¸å½“äºåˆåˆ›å»ºä¸€ä¸ªå·²å…³è”ç°æœ‰thisçš„æ–°å‡½æ•°ï¼Œå³å¯è§£å†³é—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Comp = &#123;</span><br><span class="line">   id=<span class="string">'123'</span> ,</span><br><span class="line">   init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>, ï¼ˆ<span class="function"><span class="keyword">function</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.doSomething(event.type); <span class="comment">// error</span></span><br><span class="line">        &#125;ï¼‰.bind(<span class="keyword">this</span>), <span class="literal">false</span>);</span><br><span class="line">   &#125;,</span><br><span class="line">   doSomething:<span class="function"><span class="keyword">function</span>(<span class="params">type</span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">"Handling "</span> + type + <span class="string">" for "</span> + <span class="keyword">this</span>.id);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œç”±äºå‰é¢æ‰€è¿°ç®­å¤´å‡½æ•°å†…ç½®çš„thisçš„å€¼ï¼Œå–å†³äºç®­å¤´å‡½æ•°åœ¨å“ªå®šä¹‰ï¼Œè€Œéç®­å¤´å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚<br>è¿™é‡Œå°†functionå£°æ˜çš„å‡½æ•°æ›¿æ¢ä¸ºç®­å¤´å‡½æ•°ï¼Œå³å¯ç›´æ¥ä½¿ç”¨this.doSomething()äº†ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> Comp = &#123;</span><br><span class="line">   id=<span class="string">'123'</span> ,</span><br><span class="line">   init:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">       <span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>, ()=&gt;<span class="keyword">this</span>.doSomething(), <span class="literal">false</span>);</span><br><span class="line">   &#125;,</span><br><span class="line">   doSomething:<span class="function"><span class="keyword">function</span>(<span class="params">type</span>)</span>&#123;</span><br><span class="line">             <span class="built_in">console</span>.log(<span class="string">"Handling "</span> + type + <span class="string">" for "</span> + <span class="keyword">this</span>.id);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ç„¶ï¼Œç®­å¤´å‡½æ•°çš„å£°æ˜æ–¹å¼ä¹Ÿå°±å†³å®šäº†å…¶ç®€ç»ƒæ€§ï¼Œä½¿å¾—ä»£ç ç›´è§‚ï¼Œç®€å•ï¼Œå€¼å¾—å»ä½¿ç”¨ã€‚</p><h5 id="å…¶ä»–ï¼š"><a href="#å…¶ä»–ï¼š" class="headerlink" title="å…¶ä»–ï¼š"></a>å…¶ä»–ï¼š</h5><ul><li>1.å¯¹ç®­å¤´å‡½æ•°è¿›è¡Œtypeofæ“ä½œä¼šè¿”å›â€œfunctionâ€ã€‚</li><li>2.ç®­å¤´å‡½æ•°ä»æ˜¯Functionçš„å®ä¾‹ï¼Œæ•…è€Œinstanceofçš„æ‰§è¡Œæ–¹å¼ä¸ä¼ ç»Ÿå‡½æ•°ä¸€è‡´ã€‚</li><li>3.call/apply/bindæ–¹æ³•ä»é€‚ç”¨äºç®­å¤´å‡½æ•°ï¼Œä½†å°±ç®—è°ƒç”¨è¿™äº›æ–¹æ³•æ‰©å……å½“å‰ä½œç”¨åŸŸï¼Œthisä¹Ÿä¾æ—§ä¸ä¼šå˜åŒ–ã€‚<br>ç®­å¤´å‡½æ•°ä¸ä¼ ç»Ÿå‡½æ•°æœ€å¤§çš„ä¸åŒä¹‹å¤„åœ¨ï¼Œç¦ç”¨newæ“ä½œã€‚</li></ul><p>å‚è€ƒï¼š<a href="http://www.jb51.net/article/50770.htm" target="_blank" rel="noopener">http://www.jb51.net/article/50770.htm</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h5 id=&quot;ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š&quot;&gt;&lt;a href=&quot;#ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š&quot; class=&quot;headerlink&quot; title=&quot;ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š&quot;&gt;&lt;/a&gt;ç®­å¤´å‡½æ•°çš„ç‰¹æ€§ï¼š&lt;/h5&gt;&lt;ul&gt;
&lt;li&gt;å¯¹thisçš„å…³è”ã€‚ç®­å¤´å‡½æ•°å†…ç½®çš„thisçš„å€¼ï¼Œå–å†³äºç®­å¤´å‡½æ•°åœ¨å“ªå®šä¹‰ï¼Œè€Œéç®­å¤´å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚&lt;/li&gt;
&lt;li&gt;newä¸å¯ç”¨ã€‚ç®­å¤´å‡½æ•°å†…ä¸èƒ½ä½¿ç”¨newå…³é”®å­—æ¥å®ä¾‹åŒ–å¯¹è±¡ï¼Œå¦åˆ™æŠ¥é”™ã€‚&lt;/li&gt;
&lt;li&gt;æ²¡æœ‰argumentså¯¹è±¡ã€‚ä¸èƒ½é€šè¿‡argumentså¯¹è±¡è®¿é—®ä¼ å…¥å‚æ•°ï¼Œåªèƒ½ä½¿ç”¨æ˜¾å¼å‘½åæˆ–å…¶ä»–ES6æ–°ç‰¹æ€§æ¥å®Œæˆã€‚&lt;/li&gt;
&lt;li&gt;thisä¸å¯å˜ã€‚å‡½æ•°å†…ç½®çš„thisä¸å¯å˜ï¼Œåœ¨å‡½æ•°ä½“å†…æ•´ä¸ªæ‰§è¡Œç¯å¢ƒä¸­æœªå¸¸é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ‰è¿™äº›è¿™äº›å·®å¼‚çš„åŸå› ï¼šå¯¹thisçš„ç»‘å®šæ˜¯JavaScripté”™è¯¯çš„å¸¸è§æ¥æºä¹‹ä¸€ã€‚å®¹æ˜“ä¸¢å¤±å‡½æ•°å†…ç½®æ•°å€¼ï¼Œæˆ–å¾—å‡ºæ„å¤–ç»“æœã€‚å…¶æ¬¡ï¼Œå°†ç®­å¤´å‡½æ•°é™åˆ¶ä¸ºä½¿ç”¨å›ºå®šthiså¼•ç”¨ï¼Œæœ‰åˆ©äºJavaScriptå¼•æ“ä¼˜åŒ–å¤„ç†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="æŠ€æœ¯" scheme="http://zhujm.top/categories/%E6%8A%80%E6%9C%AF/"/>
    
    
      <category term="JavaScript" scheme="http://zhujm.top/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>ä»¿çŸ¥ä¹æ—¥æŠ¥çš„ReactNativé¡¹ç›®</title>
    <link href="http://zhujm.top/2017/08/15/201908151315/"/>
    <id>http://zhujm.top/2017/08/15/201908151315/</id>
    <published>2017-08-15T05:15:32.000Z</published>
    <updated>2019-08-15T05:56:55.191Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p> ä¸ªäººä»é›¶åˆ°ä¸€å­¦ä¹ å¼€å‘çš„é«˜ä»¿çŸ¥ä¹æ—¥æŠ¥Appï¼Œä½¿ç”¨ReactNativeæŠ€æœ¯ï¼ŒJsä»£ç è¾¾åˆ°90%ä»¥ä¸Šï¼Œé‡‡ç”¨Reduxæ¶æ„ã€‚</p></blockquote><a id="more"></a><p>æœ‰æƒ³äº†è§£åŠäº¤æµçš„ç«¥é‹å¯ä»¥æˆ³è¿›å»çœ‹çœ‹ï¼Œè§‰å¾—è¿˜è¡Œå¯ä»¥ç»™ä¸ªstaré¼“åŠ±ä¸‹å“¦ã€‚</p><ul><li>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/zhujiaming/zhihudailyrn" target="_blank" rel="noopener">https://github.com/zhujiaming/zhihudailyrn</a></li><li>å®‰å“æ¼”ç¤ºapkä¸‹è½½ï¼š</li></ul><p><img src="http://upload-images.jianshu.io/upload_images/1948083-49f8e358057b9f15?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="apk"></p><ul><li>ReactNativeï¼š0.45.1</li><li>è¿è¡Œç¯å¢ƒï¼š<br>Android &gt;=4.1<br>IOSï¼ˆå³å°†é€‚é…ï¼‰</li><li>è¿è¡Œæ•ˆæœï¼š</li></ul><p><img src="http://upload-images.jianshu.io/upload_images/1948083-7e17aa7d10cb318a.gif?imageMogr2/auto-orient/strip" alt="æ•ˆæœå›¾"></p><p>é¡¹ç›®ä»åœ¨ä¸æ–­å®Œå–„ä¸­ï¼Œå¹¶ä¸”ä¼šåœ¨æ–‡ç« ä¸­åˆ†äº«codingè¿‡ç¨‹ä¸­çˆ¬çš„å‘ä»¥åŠå­¦ä¹ åˆ°çš„çŸ¥è¯†ï¼Œæœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®æ¬¢è¿ä¸æˆ‘è”ç³»å…±åŒå­¦ä¹ å“ˆã€‚<br>é‚®ç®±ï¼š<a href="mailto:ah_zjm@163.com" target="_blank" rel="noopener">ah_zjm@163.com</a><br>QQï¼š771407650</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt; ä¸ªäººä»é›¶åˆ°ä¸€å­¦ä¹ å¼€å‘çš„é«˜ä»¿çŸ¥ä¹æ—¥æŠ¥Appï¼Œä½¿ç”¨ReactNativeæŠ€æœ¯ï¼ŒJsä»£ç è¾¾åˆ°90%ä»¥ä¸Šï¼Œé‡‡ç”¨Reduxæ¶æ„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="ä¸ªäººé¡¹ç›®" scheme="http://zhujm.top/categories/%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE/"/>
    
    
      <category term="Android" scheme="http://zhujm.top/tags/Android/"/>
    
      <category term="ReactNative" scheme="http://zhujm.top/tags/ReactNative/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://zhujm.top/2015/07/01/hello-world/"/>
    <id>http://zhujm.top/2015/07/01/hello-world/</id>
    <published>2015-07-01T05:01:58.000Z</published>
    <updated>2019-08-15T05:11:20.540Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><a id="more"></a><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&quot;Quick-Start&quot;&gt;&lt;a href=&quot;#Quick-Start&quot; class=&quot;headerlink&quot; title=&quot;Quick Start&quot;&gt;&lt;/a&gt;Quick Start&lt;/h2&gt;&lt;h3 id=&quot;Create-a-new-post&quot;&gt;&lt;a href=&quot;#Create-a-new-post&quot; class=&quot;headerlink&quot; title=&quot;Create a new post&quot;&gt;&lt;/a&gt;Create a new post&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
